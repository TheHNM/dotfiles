<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Remove arch_bootstrap folder - dotfiles - Unnamed repository; edit this file &#39;description&#39; to name the repository.
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="dotfiles Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>dotfiles</h1><span class="desc">Unnamed repository; edit this file &#39;description&#39; to name the repository.
</span></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.md.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/6db494baab8bccd91952e35ae9872ed429aae6b1.html">6db494baab8bccd91952e35ae9872ed429aae6b1</a>
<b>parent</b> <a href="../commit/2d1ddf78f8683f81d24deaeb489cfc8b8bef72b8.html">2d1ddf78f8683f81d24deaeb489cfc8b8bef72b8</a>
<b>Author:</b> thehnm &lt;<a href="mailto:hngnm@protonmail.com">hngnm@protonmail.com</a>&gt;
<b>Date:</b>   Fri,  2 Nov 2018 23:42:50 +0100

Remove arch_bootstrap folder

<b>Diffstat:</b>
<table><tr><td class="D">D</td><td><a href="#h0">arch_bootstrap/install.sh</a></td><td> | </td><td class="num">316</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h1">arch_bootstrap/packages.csv</a></td><td> | </td><td class="num">43</td><td><span class="i"></span><span class="d">-------------------------------------------</span></td></tr>
</table></pre><pre>2 files changed, 0 insertions(+), 359 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/arch_bootstrap/install.sh.html">arch_bootstrap/install.sh</a> b/<a href="../file/arch_bootstrap/install.sh.html">arch_bootstrap/install.sh</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -1,316 +0,0 @@
</a><a href="#h0-0-0" id="h0-0-0" class="d">-#!/bin/bash
</a><a href="#h0-0-1" id="h0-0-1" class="d">-
</a><a href="#h0-0-2" id="h0-0-2" class="d">-[ -z ${dotfilesrepo+x} ] &amp;&amp; dotfilesrepo=&quot;https://github.com/thehnm/dotfiles-i3.git&quot;
</a><a href="#h0-0-3" id="h0-0-3" class="d">-[ -z ${vundlerepo+x} ] &amp;&amp; vundlerepo=&quot;https://github.com/VundleVim/Vundle.vim.git&quot;
</a><a href="#h0-0-4" id="h0-0-4" class="d">-
</a><a href="#h0-0-5" id="h0-0-5" class="d">-###############################################################################
</a><a href="#h0-0-6" id="h0-0-6" class="d">-
</a><a href="#h0-0-7" id="h0-0-7" class="d">-initialcheck() { pacman -S --noconfirm --needed dialog || { echo &quot;Are you sure you&#39;re running this as the root user? Are you sure you&#39;re using an Arch-based distro? ;-) Are you sure you have an internet connection?&quot;; exit; } ;}
</a><a href="#h0-0-8" id="h0-0-8" class="d">-
</a><a href="#h0-0-9" id="h0-0-9" class="d">-welcomemsg() { \
</a><a href="#h0-0-10" id="h0-0-10" class="d">-  dialog --title &quot;Welcome!&quot; --msgbox &quot;Welcome to thehnm&#39;s Arch Linux Installation Script!\\n\\nThis script will automatically install a fully-featured i3wm Arch Linux desktop, which I use as my main machine.\\n\\n-thehnm&quot; 10 60
</a><a href="#h0-0-11" id="h0-0-11" class="d">-}
</a><a href="#h0-0-12" id="h0-0-12" class="d">-
</a><a href="#h0-0-13" id="h0-0-13" class="d">-preinstallmsg() { \
</a><a href="#h0-0-14" id="h0-0-14" class="d">-  dialog --title &quot;Start installing the script!&quot; --yes-label &quot;Let&#39;s go!&quot; --no-label &quot;No, nevermind!&quot; --yesno &quot;It will take some time, but when done, you can relax even more with your complete system.\\n\\nNow just press &lt;Let&#39;s go!&gt; and the system will begin installation!&quot; 13 60 || { clear; exit; }
</a><a href="#h0-0-15" id="h0-0-15" class="d">-}
</a><a href="#h0-0-16" id="h0-0-16" class="d">-
</a><a href="#h0-0-17" id="h0-0-17" class="d">-setlocale() {
</a><a href="#h0-0-18" id="h0-0-18" class="d">-  answer=$(dialog --title &quot;Locale settings&quot; --yesno &quot;Do you want to edit the locale.gen file?&quot; 5 45 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;1 || exit)
</a><a href="#h0-0-19" id="h0-0-19" class="d">-  case $? in
</a><a href="#h0-0-20" id="h0-0-20" class="d">-    0 ) clear &amp;&amp; sudo vim /etc/locale.gen
</a><a href="#h0-0-21" id="h0-0-21" class="d">-        break;;
</a><a href="#h0-0-22" id="h0-0-22" class="d">-    1 ) break;;
</a><a href="#h0-0-23" id="h0-0-23" class="d">-  esac
</a><a href="#h0-0-24" id="h0-0-24" class="d">-
</a><a href="#h0-0-25" id="h0-0-25" class="d">-  dialog --infobox &quot;Setting locale...&quot; 4 40
</a><a href="#h0-0-26" id="h0-0-26" class="d">-  locale-gen &amp;&gt;/dev/null
</a><a href="#h0-0-27" id="h0-0-27" class="d">-  echo &quot;LANG=$1&quot; &gt;&gt; /etc/locale.conf
</a><a href="#h0-0-28" id="h0-0-28" class="d">-  echo &quot;LANGUAGE=$1&quot; &gt;&gt; /etc/locale.conf
</a><a href="#h0-0-29" id="h0-0-29" class="d">-  echo &quot;LC_ALL=$2&quot; &gt;&gt; /etc/locale.conf
</a><a href="#h0-0-30" id="h0-0-30" class="d">-  echo &quot;KEYMAP=$3&quot; &gt;&gt; /etc/vconsole.conf
</a><a href="#h0-0-31" id="h0-0-31" class="d">-}
</a><a href="#h0-0-32" id="h0-0-32" class="d">-
</a><a href="#h0-0-33" id="h0-0-33" class="d">-settimezone() {
</a><a href="#h0-0-34" id="h0-0-34" class="d">-  # Select continent
</a><a href="#h0-0-35" id="h0-0-35" class="d">-  C=(1 &quot;Africa&quot; 2 &quot;America&quot; 3 &quot;Antarctica&quot; 4 &quot;Arctic&quot; 5 &quot;Asia&quot; 6 &quot;Australia&quot; 7 &quot;Europe&quot; 8 &quot;Pacific&quot;)
</a><a href="#h0-0-36" id="h0-0-36" class="d">-  choice1=$(dialog --title &quot;Set timezone&quot; --menu &quot;Chose one&quot; 24 80 17 &quot;${C[@]}&quot; 3&gt;&amp;2 2&gt;&amp;1 1&gt;&amp;3)
</a><a href="#h0-0-37" id="h0-0-37" class="d">-  continent=${C[2*$choice1-1]}
</a><a href="#h0-0-38" id="h0-0-38" class="d">-
</a><a href="#h0-0-39" id="h0-0-39" class="d">-  # Select city
</a><a href="#h0-0-40" id="h0-0-40" class="d">-  let i=0 # define counting variable
</a><a href="#h0-0-41" id="h0-0-41" class="d">-  W=() # define working array
</a><a href="#h0-0-42" id="h0-0-42" class="d">-  while read -r line; do # process file by file
</a><a href="#h0-0-43" id="h0-0-43" class="d">-    let i=$i+1
</a><a href="#h0-0-44" id="h0-0-44" class="d">-    W+=($i &quot;$line&quot;)
</a><a href="#h0-0-45" id="h0-0-45" class="d">-  done &lt; &lt;( ls -1 /usr/share/zoneinfo/$continent )
</a><a href="#h0-0-46" id="h0-0-46" class="d">-  choice2=$(dialog --title &quot;Set timezone&quot; --menu &quot;Chose one&quot; 24 80 17 &quot;${W[@]}&quot; 3&gt;&amp;2 2&gt;&amp;1 1&gt;&amp;3)
</a><a href="#h0-0-47" id="h0-0-47" class="d">-  clear
</a><a href="#h0-0-48" id="h0-0-48" class="d">-  if [ &quot;$?&quot; = &quot;0&quot; ]; then # Exit with OK
</a><a href="#h0-0-49" id="h0-0-49" class="d">-    city=${W[2*$choice2-1]}
</a><a href="#h0-0-50" id="h0-0-50" class="d">-  fi
</a><a href="#h0-0-51" id="h0-0-51" class="d">-
</a><a href="#h0-0-52" id="h0-0-52" class="d">-  # Set localtime
</a><a href="#h0-0-53" id="h0-0-53" class="d">-  dialog --infobox &quot;Setting timezone...&quot; 4 40
</a><a href="#h0-0-54" id="h0-0-54" class="d">-  ln -sf /usr/share/zoneinfo/$continent/$city /etc/localtime
</a><a href="#h0-0-55" id="h0-0-55" class="d">-  hwclock --systohc
</a><a href="#h0-0-56" id="h0-0-56" class="d">-}
</a><a href="#h0-0-57" id="h0-0-57" class="d">-
</a><a href="#h0-0-58" id="h0-0-58" class="d">-getuserandpass() {
</a><a href="#h0-0-59" id="h0-0-59" class="d">-  # Prompts user for new username an password.
</a><a href="#h0-0-60" id="h0-0-60" class="d">-  # Checks if username is valid and confirms passwd.
</a><a href="#h0-0-61" id="h0-0-61" class="d">-  name=$(dialog --inputbox &quot;First, please enter a name for the user account.&quot; 10 60 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;1) || exit
</a><a href="#h0-0-62" id="h0-0-62" class="d">-  namere=&quot;^[a-z_][a-z0-9_-]*$&quot;
</a><a href="#h0-0-63" id="h0-0-63" class="d">-  while ! [[ &quot;${name}&quot; =~ ${namere} ]]; do
</a><a href="#h0-0-64" id="h0-0-64" class="d">-  	name=$(dialog --no-cancel --inputbox &quot;Username not valid. Give a username beginning with a letter, with only lowercase letters, - or _.&quot; 10 60 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;1)
</a><a href="#h0-0-65" id="h0-0-65" class="d">-  done
</a><a href="#h0-0-66" id="h0-0-66" class="d">-  pass1=$(dialog --no-cancel --insecure --passwordbox &quot;Enter a password for that user.&quot; 10 60 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;1)
</a><a href="#h0-0-67" id="h0-0-67" class="d">-  pass2=$(dialog --no-cancel --insecure --passwordbox &quot;Retype password.&quot; 10 60 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;1)
</a><a href="#h0-0-68" id="h0-0-68" class="d">-  while ! [[ ${pass1} == ${pass2} ]]; do
</a><a href="#h0-0-69" id="h0-0-69" class="d">- 	unset pass2
</a><a href="#h0-0-70" id="h0-0-70" class="d">-	pass1=$(dialog --no-cancel --insecure --passwordbox &quot;Passwords do not match.\\n\\nEnter password again.&quot; 10 60 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;1)
</a><a href="#h0-0-71" id="h0-0-71" class="d">-	pass2=$(dialog --no-cancel --insecure --passwordbox &quot;Retype password.&quot; 10 60 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;1)
</a><a href="#h0-0-72" id="h0-0-72" class="d">-  done ;}
</a><a href="#h0-0-73" id="h0-0-73" class="d">-
</a><a href="#h0-0-74" id="h0-0-74" class="d">-usercheck() { \
</a><a href="#h0-0-75" id="h0-0-75" class="d">-  ! (id -u $name &amp;&gt;/dev/null) ||
</a><a href="#h0-0-76" id="h0-0-76" class="d">-  dialog --colors --title &quot;WARNING!&quot; --yes-label &quot;CONTINUE&quot; --no-label &quot;No wait...&quot; --yesno &quot;The user \`$name\` already exists on this system. This script can install for a user already existing, but it will \\Zboverwrite\\Zn any conflicting settings/dotfiles on the user account.\\n\\nThis script will \\Zbnot\\Zn overwrite your user files, documents, videos, etc., so don&#39;t worry about that, but only click &lt;CONTINUE&gt; if you don&#39;t mind your settings being overwritten.\\n\\nNote also that this script will change $name&#39;s password to the one you just gave.&quot; 14 70
</a><a href="#h0-0-77" id="h0-0-77" class="d">-}
</a><a href="#h0-0-78" id="h0-0-78" class="d">-
</a><a href="#h0-0-79" id="h0-0-79" class="d">-adduserandpass() { \
</a><a href="#h0-0-80" id="h0-0-80" class="d">-  # Adds user `$name` with password $pass1.
</a><a href="#h0-0-81" id="h0-0-81" class="d">-  dialog --infobox &quot;Adding user \&quot;$name\&quot;...&quot; 4 50
</a><a href="#h0-0-82" id="h0-0-82" class="d">-  useradd -m -g wheel -s /bin/bash &quot;$name&quot; &amp;&gt;/dev/null ||
</a><a href="#h0-0-83" id="h0-0-83" class="d">-  usermod -a -G wheel &quot;$name&quot; &amp;&amp; mkdir -p /home/&quot;$name&quot; &amp;&amp; chown &quot;$name&quot;:wheel /home/&quot;$name&quot;
</a><a href="#h0-0-84" id="h0-0-84" class="d">-  echo &quot;$name:$pass1&quot; | chpasswd
</a><a href="#h0-0-85" id="h0-0-85" class="d">-  unset pass1 pass2 ;}
</a><a href="#h0-0-86" id="h0-0-86" class="d">-
</a><a href="#h0-0-87" id="h0-0-87" class="d">-refreshkeys() { \
</a><a href="#h0-0-88" id="h0-0-88" class="d">-  dialog --infobox &quot;Refreshing Arch Keyring...&quot; 4 40
</a><a href="#h0-0-89" id="h0-0-89" class="d">-  pacman --noconfirm -Sy archlinux-keyring &amp;&gt;/dev/null
</a><a href="#h0-0-90" id="h0-0-90" class="d">-}
</a><a href="#h0-0-91" id="h0-0-91" class="d">-
</a><a href="#h0-0-92" id="h0-0-92" class="d">-installyay() {
</a><a href="#h0-0-93" id="h0-0-93" class="d">-  dialog --infobox &quot;Installing yay, an AUR helper...&quot; 8 50
</a><a href="#h0-0-94" id="h0-0-94" class="d">-  pacman --noconfirm -S git &amp;&gt;/dev/null
</a><a href="#h0-0-95" id="h0-0-95" class="d">-  sudo -u $name git clone https://aur.archlinux.org/yay.git /tmp/yay &amp;&gt;/dev/null
</a><a href="#h0-0-96" id="h0-0-96" class="d">-  cd /tmp/yay
</a><a href="#h0-0-97" id="h0-0-97" class="d">-  sudo -u $name makepkg --noconfirm -si &amp;&gt;/dev/null
</a><a href="#h0-0-98" id="h0-0-98" class="d">-}
</a><a href="#h0-0-99" id="h0-0-99" class="d">-
</a><a href="#h0-0-100" id="h0-0-100" class="d">-pacmaninstall() {
</a><a href="#h0-0-101" id="h0-0-101" class="d">-  dialog --title &quot;Installation&quot; --infobox &quot;Installing \`$1\` ($n of $total).&quot; 5 70
</a><a href="#h0-0-102" id="h0-0-102" class="d">-  pacman --noconfirm --needed -S &quot;$1&quot; &amp;&gt;/dev/null
</a><a href="#h0-0-103" id="h0-0-103" class="d">-}
</a><a href="#h0-0-104" id="h0-0-104" class="d">-
</a><a href="#h0-0-105" id="h0-0-105" class="d">-aurinstall() {
</a><a href="#h0-0-106" id="h0-0-106" class="d">-  dialog --title &quot;Installation&quot; --infobox &quot;Installing \`$1\` ($n of $total) from the AUR.&quot; 5 70
</a><a href="#h0-0-107" id="h0-0-107" class="d">-  sudo -u $name yay --noconfirm -S &quot;$1&quot; &amp;&gt;/dev/null
</a><a href="#h0-0-108" id="h0-0-108" class="d">-}
</a><a href="#h0-0-109" id="h0-0-109" class="d">-
</a><a href="#h0-0-110" id="h0-0-110" class="d">-choosebar() {
</a><a href="#h0-0-111" id="h0-0-111" class="d">-  bar=$(dialog --title &quot;Select bar&quot; --radiolist &quot;Do you want i3bar or polybar?&quot; 10 80 17 1 i3bar on 2 polybar off 3&gt;&amp;2 2&gt;&amp;1 1&gt;&amp;3)
</a><a href="#h0-0-112" id="h0-0-112" class="d">-  while [ &quot;$?&quot; = &quot;1&quot; ];
</a><a href="#h0-0-113" id="h0-0-113" class="d">-  do
</a><a href="#h0-0-114" id="h0-0-114" class="d">-    bar=$(dialog --title &quot;Select bar&quot; --radiolist &quot;You must choose one!&quot; 10 80 17 1 i3bar on 2 polybar off 3&gt;&amp;2 2&gt;&amp;1 1&gt;&amp;3)
</a><a href="#h0-0-115" id="h0-0-115" class="d">-  done
</a><a href="#h0-0-116" id="h0-0-116" class="d">-  case $bar in
</a><a href="#h0-0-117" id="h0-0-117" class="d">-      1 ) sed -i &#39;/A,polybar/d&#39; $1
</a><a href="#h0-0-118" id="h0-0-118" class="d">-          break;;
</a><a href="#h0-0-119" id="h0-0-119" class="d">-      2 ) sed -i &#39;/,i3blocks/d&#39; $1
</a><a href="#h0-0-120" id="h0-0-120" class="d">-          sed -i &#39;/,i3status/d&#39; $1
</a><a href="#h0-0-121" id="h0-0-121" class="d">-          break;;
</a><a href="#h0-0-122" id="h0-0-122" class="d">-  esac
</a><a href="#h0-0-123" id="h0-0-123" class="d">-}
</a><a href="#h0-0-124" id="h0-0-124" class="d">-
</a><a href="#h0-0-125" id="h0-0-125" class="d">-chooselauncher() {
</a><a href="#h0-0-126" id="h0-0-126" class="d">-  launcher=$(dialog --title &quot;Select program launcher&quot; --radiolist &quot;Do you want dmenu or rofi?&quot; 10 80 17 1 dmenu on 2 rofi off 3&gt;&amp;2 2&gt;&amp;1 1&gt;&amp;3)
</a><a href="#h0-0-127" id="h0-0-127" class="d">-  while [ &quot;$?&quot; = &quot;1&quot; ];
</a><a href="#h0-0-128" id="h0-0-128" class="d">-  do
</a><a href="#h0-0-129" id="h0-0-129" class="d">-    launcher=$(dialog --title &quot;Select program launcher&quot; --radiolist &quot;You must choose one!&quot; 10 80 17 1 dmenu on 2 rofi off 3&gt;&amp;2 2&gt;&amp;1 1&gt;&amp;3)
</a><a href="#h0-0-130" id="h0-0-130" class="d">-  done
</a><a href="#h0-0-131" id="h0-0-131" class="d">-  case $launcher in
</a><a href="#h0-0-132" id="h0-0-132" class="d">-    1 ) sed -i &#39;/,rofi/d&#39; $1
</a><a href="#h0-0-133" id="h0-0-133" class="d">-        break;;
</a><a href="#h0-0-134" id="h0-0-134" class="d">-    2 ) sed -i &#39;/,dmenu/d&#39; $1
</a><a href="#h0-0-135" id="h0-0-135" class="d">-        break;;
</a><a href="#h0-0-136" id="h0-0-136" class="d">-  esac
</a><a href="#h0-0-137" id="h0-0-137" class="d">-}
</a><a href="#h0-0-138" id="h0-0-138" class="d">-
</a><a href="#h0-0-139" id="h0-0-139" class="d">-editpackages() {
</a><a href="#h0-0-140" id="h0-0-140" class="d">-  dialog --yesno &quot;Do you want to edit the packages file?&quot; 10 80 3&gt;&amp;2 2&gt;&amp;1 1&gt;&amp;3
</a><a href="#h0-0-141" id="h0-0-141" class="d">-  case $? in
</a><a href="#h0-0-142" id="h0-0-142" class="d">-    0 ) vim $1
</a><a href="#h0-0-143" id="h0-0-143" class="d">-        break;;
</a><a href="#h0-0-144" id="h0-0-144" class="d">-    1 ) break;;
</a><a href="#h0-0-145" id="h0-0-145" class="d">-  esac
</a><a href="#h0-0-146" id="h0-0-146" class="d">-}
</a><a href="#h0-0-147" id="h0-0-147" class="d">-
</a><a href="#h0-0-148" id="h0-0-148" class="d">-installloop() {
</a><a href="#h0-0-149" id="h0-0-149" class="d">-  curl https://raw.githubusercontent.com/thehnm/dotfiles-i3/master/arch_bootstrap/packages.csv &gt;&gt; /tmp/packages.csv
</a><a href="#h0-0-150" id="h0-0-150" class="d">-  choosebar &quot;/tmp/packages.csv&quot;
</a><a href="#h0-0-151" id="h0-0-151" class="d">-  chooselauncher &quot;/tmp/packages.csv&quot;
</a><a href="#h0-0-152" id="h0-0-152" class="d">-  editpackages &quot;/tmp/packages.csv&quot;
</a><a href="#h0-0-153" id="h0-0-153" class="d">-  total=$(wc -l &lt; /tmp/packages.csv)
</a><a href="#h0-0-154" id="h0-0-154" class="d">-  aurinstalled=$(pacman -Qm | awk &#39;{print $1}&#39;)
</a><a href="#h0-0-155" id="h0-0-155" class="d">-  while IFS=, read -r tag program; do
</a><a href="#h0-0-156" id="h0-0-156" class="d">-   n=$((n+1))
</a><a href="#h0-0-157" id="h0-0-157" class="d">-   case &quot;$tag&quot; in
</a><a href="#h0-0-158" id="h0-0-158" class="d">-    &quot;&quot;) pacmaninstall &quot;$program&quot; ;;
</a><a href="#h0-0-159" id="h0-0-159" class="d">-    &quot;A&quot;) aurinstall &quot;$program&quot; ;;
</a><a href="#h0-0-160" id="h0-0-160" class="d">-   esac
</a><a href="#h0-0-161" id="h0-0-161" class="d">-  done &lt; /tmp/packages.csv ;
</a><a href="#h0-0-162" id="h0-0-162" class="d">-}
</a><a href="#h0-0-163" id="h0-0-163" class="d">-
</a><a href="#h0-0-164" id="h0-0-164" class="d">-putgitrepo() { # Downlods a gitrepo $1 and places the files in $2 only overwriting conflicts
</a><a href="#h0-0-165" id="h0-0-165" class="d">-  dialog --infobox &quot;Downloading and installing config files...&quot; 4 60
</a><a href="#h0-0-166" id="h0-0-166" class="d">-  dir=$(mktemp -d)
</a><a href="#h0-0-167" id="h0-0-167" class="d">-  chown -R &quot;$name&quot;:wheel &quot;$dir&quot;
</a><a href="#h0-0-168" id="h0-0-168" class="d">-  sudo -u &quot;$name&quot; git clone &quot;$1&quot; &quot;$dir&quot;/&quot;$3&quot; &amp;&gt;/dev/null &amp;&amp;
</a><a href="#h0-0-169" id="h0-0-169" class="d">-  sudo -u &quot;$name&quot; mkdir -p &quot;$2&quot; &amp;&amp;
</a><a href="#h0-0-170" id="h0-0-170" class="d">-  sudo -u &quot;$name&quot; cp -rT &quot;$dir&quot;/&quot;$3&quot; &quot;$2&quot;/&quot;$3&quot;
</a><a href="#h0-0-171" id="h0-0-171" class="d">-}
</a><a href="#h0-0-172" id="h0-0-172" class="d">-
</a><a href="#h0-0-173" id="h0-0-173" class="d">-installdotfiles() {
</a><a href="#h0-0-174" id="h0-0-174" class="d">-  dialog --infobox &quot;Installing my dotfiles...&quot; 4 60
</a><a href="#h0-0-175" id="h0-0-175" class="d">-  cd &quot;$1&quot;
</a><a href="#h0-0-176" id="h0-0-176" class="d">-
</a><a href="#h0-0-177" id="h0-0-177" class="d">-  case $bar in
</a><a href="#h0-0-178" id="h0-0-178" class="d">-      1 ) sed -i &#39;/polybar/d&#39; $1/config.stow/.config/i3/config
</a><a href="#h0-0-179" id="h0-0-179" class="d">-          sed -i &#39;s/^#1//g&#39; $1/config.stow/.config/i3/config
</a><a href="#h0-0-180" id="h0-0-180" class="d">-          break;;
</a><a href="#h0-0-181" id="h0-0-181" class="d">-      2 ) break;;
</a><a href="#h0-0-182" id="h0-0-182" class="d">-  esac
</a><a href="#h0-0-183" id="h0-0-183" class="d">-
</a><a href="#h0-0-184" id="h0-0-184" class="d">-  case $launcher in
</a><a href="#h0-0-185" id="h0-0-185" class="d">-    1 ) sed -i &#39;/rofi/d&#39; $1/config.stow/.config/i3/config
</a><a href="#h0-0-186" id="h0-0-186" class="d">-        sed -i &#39;s/^#2//g&#39; $1/config.stow/.config/i3/config
</a><a href="#h0-0-187" id="h0-0-187" class="d">-        break;;
</a><a href="#h0-0-188" id="h0-0-188" class="d">-    2 ) break;;
</a><a href="#h0-0-189" id="h0-0-189" class="d">-  esac
</a><a href="#h0-0-190" id="h0-0-190" class="d">-
</a><a href="#h0-0-191" id="h0-0-191" class="d">-  bash &quot;$2&quot;
</a><a href="#h0-0-192" id="h0-0-192" class="d">-}
</a><a href="#h0-0-193" id="h0-0-193" class="d">-
</a><a href="#h0-0-194" id="h0-0-194" class="d">-serviceinit() {
</a><a href="#h0-0-195" id="h0-0-195" class="d">-  for service in &quot;$@&quot;; do
</a><a href="#h0-0-196" id="h0-0-196" class="d">-    dialog --infobox &quot;Enabling \&quot;$service\&quot;...&quot; 4 40
</a><a href="#h0-0-197" id="h0-0-197" class="d">-    systemctl enable &quot;$service&quot;
</a><a href="#h0-0-198" id="h0-0-198" class="d">-    systemctl start &quot;$service&quot;
</a><a href="#h0-0-199" id="h0-0-199" class="d">-  done ;}
</a><a href="#h0-0-200" id="h0-0-200" class="d">-
</a><a href="#h0-0-201" id="h0-0-201" class="d">-setxinitrc() {
</a><a href="#h0-0-202" id="h0-0-202" class="d">-  dialog --infobox &quot;Setting xinitrc...&quot; 4 40
</a><a href="#h0-0-203" id="h0-0-203" class="d">-  echo exec i3 &gt;&gt; $HOME/.xinitrc
</a><a href="#h0-0-204" id="h0-0-204" class="d">-}
</a><a href="#h0-0-205" id="h0-0-205" class="d">-
</a><a href="#h0-0-206" id="h0-0-206" class="d">-newperms() { # Set special sudoers settings for install (or after).
</a><a href="#h0-0-207" id="h0-0-207" class="d">-  dialog --infobox &quot;Getting rid of that retarded error beep sound...&quot; 10 50
</a><a href="#h0-0-208" id="h0-0-208" class="d">-  sed -i &quot;/#SCRIPT/d&quot; /etc/sudoers
</a><a href="#h0-0-209" id="h0-0-209" class="d">-  echo -e &quot;$@ #SCRIPT&quot; &gt;&gt; /etc/sudoers ;}
</a><a href="#h0-0-210" id="h0-0-210" class="d">-
</a><a href="#h0-0-211" id="h0-0-211" class="d">-systembeepoff() {
</a><a href="#h0-0-212" id="h0-0-212" class="d">-  dialog --infobox &quot;Getting rid of that retarded error beep sound...&quot; 10 50
</a><a href="#h0-0-213" id="h0-0-213" class="d">-  rmmod pcspkr
</a><a href="#h0-0-214" id="h0-0-214" class="d">-  echo &quot;blacklist pcspkr&quot; &gt; /etc/modprobe.d/nobeep.conf ;}
</a><a href="#h0-0-215" id="h0-0-215" class="d">-
</a><a href="#h0-0-216" id="h0-0-216" class="d">-resetpulse() {
</a><a href="#h0-0-217" id="h0-0-217" class="d">-  dialog --infobox &quot;Reseting Pulseaudio...&quot; 4 50
</a><a href="#h0-0-218" id="h0-0-218" class="d">-  killall pulseaudio
</a><a href="#h0-0-219" id="h0-0-219" class="d">-  sudo -n &quot;$name&quot; pulseaudio --start ;}
</a><a href="#h0-0-220" id="h0-0-220" class="d">-
</a><a href="#h0-0-221" id="h0-0-221" class="d">-setuphost() {
</a><a href="#h0-0-222" id="h0-0-222" class="d">-  host=$(dialog --inputbox &quot;Enter the name for your host&quot; 10 60 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;1) || exit
</a><a href="#h0-0-223" id="h0-0-223" class="d">-  namere=&quot;^[a-z_][a-z0-9_-]*$&quot;
</a><a href="#h0-0-224" id="h0-0-224" class="d">-  while ! [[ &quot;${host}&quot; =~ ${namere} ]]; do
</a><a href="#h0-0-225" id="h0-0-225" class="d">-  	name=$(dialog --no-cancel --inputbox &quot;Hostname not valid. Give a hostname beginning with a letter, with only lowercase letters, - or _.&quot; 10 60 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;1)
</a><a href="#h0-0-226" id="h0-0-226" class="d">-  done
</a><a href="#h0-0-227" id="h0-0-227" class="d">-
</a><a href="#h0-0-228" id="h0-0-228" class="d">-  dialog --infobox &quot;Setting hostname...&quot; 4 50
</a><a href="#h0-0-229" id="h0-0-229" class="d">-  echo $host&gt;&gt; /etc/hostname
</a><a href="#h0-0-230" id="h0-0-230" class="d">-  echo 127.0.0.1        localhost &gt;&gt; /etc/hosts
</a><a href="#h0-0-231" id="h0-0-231" class="d">-  echo ::1	localhost &gt;&gt; /etc/hosts
</a><a href="#h0-0-232" id="h0-0-232" class="d">-  echo 127.0.1.1	$host.localdomain   $host &gt;&gt; /etc/hosts
</a><a href="#h0-0-233" id="h0-0-233" class="d">-}
</a><a href="#h0-0-234" id="h0-0-234" class="d">-
</a><a href="#h0-0-235" id="h0-0-235" class="d">-installgrub() {
</a><a href="#h0-0-236" id="h0-0-236" class="d">-  choice=$(dialog --yesno &quot;Do you install this on a UEFI machine?&quot; 10 80 3&gt;&amp;2 2&gt;&amp;1 1&gt;&amp;3)
</a><a href="#h0-0-237" id="h0-0-237" class="d">-  case $? in
</a><a href="#h0-0-238" id="h0-0-238" class="d">-      0 ) dialog --infobox &quot;Installing grub for UEFI...&quot; 4 50
</a><a href="#h0-0-239" id="h0-0-239" class="d">-          pacman --noconfirm -S grub efibootmgr &amp;&gt;/dev/null
</a><a href="#h0-0-240" id="h0-0-240" class="d">-          grub-install --target=x86_64-pc --bootloader-id=GRUB --efi-directory=/boot/efi/ &amp;&gt;/dev/null
</a><a href="#h0-0-241" id="h0-0-241" class="d">-          grub-mkconfig -o /boot/grub/grub.cfg &amp;&gt;/dev/null
</a><a href="#h0-0-242" id="h0-0-242" class="d">-          break;;
</a><a href="#h0-0-243" id="h0-0-243" class="d">-      1 ) label=$(dialog --inputbox &quot;Enter the disk where your install Arch Linux e.g. /dev/sda&quot; 10 60 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;1) || exit
</a><a href="#h0-0-244" id="h0-0-244" class="d">-          dialog --infobox &quot;Installing grub...&quot; 4 50
</a><a href="#h0-0-245" id="h0-0-245" class="d">-          pacman --noconfirm -S grub &amp;&gt;/dev/null
</a><a href="#h0-0-246" id="h0-0-246" class="d">-          grub-install --target=i386-pc $label &amp;&gt;/dev/null
</a><a href="#h0-0-247" id="h0-0-247" class="d">-          grub-mkconfig -o /boot/grub/grub.cfg &amp;&gt;/dev/null
</a><a href="#h0-0-248" id="h0-0-248" class="d">-          break;;
</a><a href="#h0-0-249" id="h0-0-249" class="d">-  esac
</a><a href="#h0-0-250" id="h0-0-250" class="d">-}
</a><a href="#h0-0-251" id="h0-0-251" class="d">-
</a><a href="#h0-0-252" id="h0-0-252" class="d">-finish() {
</a><a href="#h0-0-253" id="h0-0-253" class="d">-  dialog --title &quot;Welcome&quot; --msgbox &quot;The installation is done! You can reboot your system now.&quot; 10 80
</a><a href="#h0-0-254" id="h0-0-254" class="d">-}
</a><a href="#h0-0-255" id="h0-0-255" class="d">-
</a><a href="#h0-0-256" id="h0-0-256" class="d">-##########################################################################################################################
</a><a href="#h0-0-257" id="h0-0-257" class="d">-
</a><a href="#h0-0-258" id="h0-0-258" class="d">-mv install.sh /tmp/install.sh
</a><a href="#h0-0-259" id="h0-0-259" class="d">-
</a><a href="#h0-0-260" id="h0-0-260" class="d">-# Check if user is root on Arch distro. Install dialog.
</a><a href="#h0-0-261" id="h0-0-261" class="d">-initialcheck
</a><a href="#h0-0-262" id="h0-0-262" class="d">-
</a><a href="#h0-0-263" id="h0-0-263" class="d">-# Welcome user.
</a><a href="#h0-0-264" id="h0-0-264" class="d">-welcomemsg
</a><a href="#h0-0-265" id="h0-0-265" class="d">-
</a><a href="#h0-0-266" id="h0-0-266" class="d">-# Set locale.conf: First parameter sets LANG and LANGUAGE, second one sets LC_ALL and third one sets KEYMAP
</a><a href="#h0-0-267" id="h0-0-267" class="d">-setlocale &quot;en_US.UTF-8&quot; &quot;de_DE.UTF-8&quot; &quot;de-latin1&quot;
</a><a href="#h0-0-268" id="h0-0-268" class="d">-
</a><a href="#h0-0-269" id="h0-0-269" class="d">-settimezone
</a><a href="#h0-0-270" id="h0-0-270" class="d">-
</a><a href="#h0-0-271" id="h0-0-271" class="d">-# Get and verify username and password.
</a><a href="#h0-0-272" id="h0-0-272" class="d">-getuserandpass
</a><a href="#h0-0-273" id="h0-0-273" class="d">-
</a><a href="#h0-0-274" id="h0-0-274" class="d">-# Give warning if user already exists.
</a><a href="#h0-0-275" id="h0-0-275" class="d">-usercheck || { clear; exit; }
</a><a href="#h0-0-276" id="h0-0-276" class="d">-
</a><a href="#h0-0-277" id="h0-0-277" class="d">-setuphost
</a><a href="#h0-0-278" id="h0-0-278" class="d">-
</a><a href="#h0-0-279" id="h0-0-279" class="d">-# Last chance for user to back out before install.
</a><a href="#h0-0-280" id="h0-0-280" class="d">-preinstallmsg || { clear; exit; }
</a><a href="#h0-0-281" id="h0-0-281" class="d">-
</a><a href="#h0-0-282" id="h0-0-282" class="d">-adduserandpass
</a><a href="#h0-0-283" id="h0-0-283" class="d">-
</a><a href="#h0-0-284" id="h0-0-284" class="d">-refreshkeys
</a><a href="#h0-0-285" id="h0-0-285" class="d">-
</a><a href="#h0-0-286" id="h0-0-286" class="d">-newperms &quot;%wheel ALL=(ALL) NOPASSWD: ALL&quot;
</a><a href="#h0-0-287" id="h0-0-287" class="d">-
</a><a href="#h0-0-288" id="h0-0-288" class="d">-installyay
</a><a href="#h0-0-289" id="h0-0-289" class="d">-
</a><a href="#h0-0-290" id="h0-0-290" class="d">-installloop
</a><a href="#h0-0-291" id="h0-0-291" class="d">-
</a><a href="#h0-0-292" id="h0-0-292" class="d">-# Install the dotfiles in the user&#39;s home directory
</a><a href="#h0-0-293" id="h0-0-293" class="d">-putgitrepo &quot;$dotfilesrepo&quot; &quot;/home/$name&quot; &quot;dotfiles-i3&quot;
</a><a href="#h0-0-294" id="h0-0-294" class="d">-
</a><a href="#h0-0-295" id="h0-0-295" class="d">-installdotfiles &quot;/home/$name/dotfiles-i3&quot; &quot;install_dotfiles.sh&quot;
</a><a href="#h0-0-296" id="h0-0-296" class="d">-
</a><a href="#h0-0-297" id="h0-0-297" class="d">-putgitrepo &quot;$vundlerepo&quot; &quot;/home/$name/.vim/bundle/&quot; &quot;Vundle.vim&quot;
</a><a href="#h0-0-298" id="h0-0-298" class="d">-
</a><a href="#h0-0-299" id="h0-0-299" class="d">-# Pulseaudio, if/when initially installed, often needs a restart to work immediately.
</a><a href="#h0-0-300" id="h0-0-300" class="d">-[[ -f /usr/bin/pulseaudio ]] &amp;&amp; resetpulse
</a><a href="#h0-0-301" id="h0-0-301" class="d">-
</a><a href="#h0-0-302" id="h0-0-302" class="d">-serviceinit NetworkManager lightdm
</a><a href="#h0-0-303" id="h0-0-303" class="d">-
</a><a href="#h0-0-304" id="h0-0-304" class="d">-systembeepoff
</a><a href="#h0-0-305" id="h0-0-305" class="d">-
</a><a href="#h0-0-306" id="h0-0-306" class="d">-newperms &quot;%wheel ALL=(ALL) ALL\\n%wheel ALL=(ALL) NOPASSWD: /usr/bin/shutdown,/usr/bin/reboot,/usr/bin/systemctl suspend,/usr/bin/wifi-menu,/usr/bin/mount,/usr/bin/umount,/usr/bin/pacman -Syu,/usr/bin/pacman -Syyu,/usr/bin/packer -Syu,/usr/bin/packer -Syyu,/usr/bin/systemctl restart NetworkManager,/usr/bin/rc-service NetworkManager restart,/usr/bin/pacman -Syyu --noconfirm,/usr/bin/loadkeys,/usr/bin/yay&quot;
</a><a href="#h0-0-307" id="h0-0-307" class="d">-
</a><a href="#h0-0-308" id="h0-0-308" class="d">-sed -i &quot;s/^#Color/Color/g&quot; /etc/pacman.conf
</a><a href="#h0-0-309" id="h0-0-309" class="d">-
</a><a href="#h0-0-310" id="h0-0-310" class="d">-# Fix audio problem
</a><a href="#h0-0-311" id="h0-0-311" class="d">-sed -i &#39;s/^ autospawn/; autospawn/g&#39; /etc/pulse/client.conf
</a><a href="#h0-0-312" id="h0-0-312" class="d">-
</a><a href="#h0-0-313" id="h0-0-313" class="d">-installgrub
</a><a href="#h0-0-314" id="h0-0-314" class="d">-
</a><a href="#h0-0-315" id="h0-0-315" class="d">-finish &amp;&amp; clear
</a><b>diff --git a/<a id="h1" href="../file/arch_bootstrap/packages.csv.html">arch_bootstrap/packages.csv</a> b/<a href="../file/arch_bootstrap/packages.csv.html">arch_bootstrap/packages.csv</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -1,43 +0,0 @@
</a><a href="#h1-0-0" id="h1-0-0" class="d">-,i3-gaps
</a><a href="#h1-0-1" id="h1-0-1" class="d">-,i3blocks
</a><a href="#h1-0-2" id="h1-0-2" class="d">-,i3status
</a><a href="#h1-0-3" id="h1-0-3" class="d">-,dmenu
</a><a href="#h1-0-4" id="h1-0-4" class="d">-,rofi
</a><a href="#h1-0-5" id="h1-0-5" class="d">-,firefox
</a><a href="#h1-0-6" id="h1-0-6" class="d">-,networkmanager
</a><a href="#h1-0-7" id="h1-0-7" class="d">-,nm-connection-editor
</a><a href="#h1-0-8" id="h1-0-8" class="d">-,lightdm-webkit2-greeter
</a><a href="#h1-0-9" id="h1-0-9" class="d">-,termite
</a><a href="#h1-0-10" id="h1-0-10" class="d">-,network-manager-applet
</a><a href="#h1-0-11" id="h1-0-11" class="d">-,xorg-server
</a><a href="#h1-0-12" id="h1-0-12" class="d">-,xorg-xinit
</a><a href="#h1-0-13" id="h1-0-13" class="d">-,dunst
</a><a href="#h1-0-14" id="h1-0-14" class="d">-,gnome-keyring
</a><a href="#h1-0-15" id="h1-0-15" class="d">-,libsecret
</a><a href="#h1-0-16" id="h1-0-16" class="d">-,compton
</a><a href="#h1-0-17" id="h1-0-17" class="d">-,stow
</a><a href="#h1-0-18" id="h1-0-18" class="d">-,openvpn
</a><a href="#h1-0-19" id="h1-0-19" class="d">-,pass
</a><a href="#h1-0-20" id="h1-0-20" class="d">-,ttf-dejavu
</a><a href="#h1-0-21" id="h1-0-21" class="d">-,ctags
</a><a href="#h1-0-22" id="h1-0-22" class="d">-,nitrogen
</a><a href="#h1-0-23" id="h1-0-23" class="d">-,udiskie
</a><a href="#h1-0-24" id="h1-0-24" class="d">-,alsa-utils
</a><a href="#h1-0-25" id="h1-0-25" class="d">-,openssh
</a><a href="#h1-0-26" id="h1-0-26" class="d">-,pulseaudio
</a><a href="#h1-0-27" id="h1-0-27" class="d">-,pavucontrol
</a><a href="#h1-0-28" id="h1-0-28" class="d">-,lxappearance
</a><a href="#h1-0-29" id="h1-0-29" class="d">-,mupdf
</a><a href="#h1-0-30" id="h1-0-30" class="d">-,libmpdclient
</a><a href="#h1-0-31" id="h1-0-31" class="d">-,zsh-autosuggestions
</a><a href="#h1-0-32" id="h1-0-32" class="d">-,zsh-completions
</a><a href="#h1-0-33" id="h1-0-33" class="d">-,zsh-history-substring-search
</a><a href="#h1-0-34" id="h1-0-34" class="d">-,zsh-syntax-highlighting
</a><a href="#h1-0-35" id="h1-0-35" class="d">-,texlive-most
</a><a href="#h1-0-36" id="h1-0-36" class="d">-,conky
</a><a href="#h1-0-37" id="h1-0-37" class="d">-,cmake
</a><a href="#h1-0-38" id="h1-0-38" class="d">-,make
</a><a href="#h1-0-39" id="h1-0-39" class="d">-,scrot
</a><a href="#h1-0-40" id="h1-0-40" class="d">-A,i3lock-color
</a><a href="#h1-0-41" id="h1-0-41" class="d">-A,polybar
</a><a href="#h1-0-42" id="h1-0-42" class="d">-A,lightdm-webkit-theme-aether
</a></pre>
</div>
</body>
</html>
