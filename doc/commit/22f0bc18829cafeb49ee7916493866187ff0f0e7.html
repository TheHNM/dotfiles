<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Merge pull request #1 from thehnm/dialog - dotfiles - Unnamed repository; edit this file &#39;description&#39; to name the repository.
</title>
<link rel="icon" type="image/png" href="../favicon.png" />
<link rel="alternate" type="application/atom+xml" title="dotfiles Atom Feed" href="../atom.xml" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body>
<table><tr><td><a href="../../"><img src="../logo.png" alt="" width="32" height="32" /></a></td><td><h1>dotfiles</h1><span class="desc">Unnamed repository; edit this file &#39;description&#39; to name the repository.
</span></td></tr><tr><td></td><td>
<a href="../log.html">Log</a> | <a href="../files.html">Files</a> | <a href="../refs.html">Refs</a> | <a href="../file/README.md.html">README</a> | <a href="../file/LICENSE.html">LICENSE</a></td></tr></table>
<hr/>
<div id="content">
<pre><b>commit</b> <a href="../commit/22f0bc18829cafeb49ee7916493866187ff0f0e7.html">22f0bc18829cafeb49ee7916493866187ff0f0e7</a>
<b>parent</b> <a href="../commit/92451d3b4680fe649b427486808ce564c00bc774.html">92451d3b4680fe649b427486808ce564c00bc774</a>
<b>Author:</b> thehnm &lt;<a href="mailto:36209025+thehnm@users.noreply.github.com">36209025+thehnm@users.noreply.github.com</a>&gt;
<b>Date:</b>   Sun, 28 Oct 2018 11:19:10 +0100

Merge pull request #1 from thehnm/dialog

Merge dialog into master
<b>Diffstat:</b>
<table><tr><td class="M">M</td><td><a href="#h0">README.md</a></td><td> | </td><td class="num">133</td><td><span class="i">+++++++++++++++++++++++++</span><span class="d">------------------------------------------------------</span></td></tr>
<tr><td class="D">D</td><td><a href="#h1">arch_bootstrap/arch_bootstrap.sh</a></td><td> | </td><td class="num">226</td><td><span class="i"></span><span class="d">-------------------------------------------------------------------------------</span></td></tr>
<tr><td class="A">A</td><td><a href="#h2">arch_bootstrap/install.sh</a></td><td> | </td><td class="num">315</td><td><span class="i">+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span><span class="d"></span></td></tr>
<tr><td class="M">M</td><td><a href="#h3">arch_bootstrap/packages.csv</a></td><td> | </td><td class="num">4</td><td><span class="i">+</span><span class="d">---</span></td></tr>
<tr><td class="M">M</td><td><a href="#h4">config.stow/.config/dunst/dunstrc</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h5">config.stow/.config/i3/config</a></td><td> | </td><td class="num">2</td><td><span class="i">+</span><span class="d">-</span></td></tr>
<tr><td class="M">M</td><td><a href="#h6">config.stow/.vimrc</a></td><td> | </td><td class="num">13</td><td><span class="i">+++++++++</span><span class="d">----</span></td></tr>
</table></pre><pre>7 files changed, 369 insertions(+), 326 deletions(-)
<hr/><b>diff --git a/<a id="h0" href="../file/README.md.html">README.md</a> b/<a href="../file/README.md.html">README.md</a></b>
<a href="#h0-0" id="h0-0" class="h">@@ -1,116 +1,67 @@
</a><a href="#h0-0-0" id="h0-0-0" class="d">-# My personal installation steps for my i3 configuration
</a><a href="#h0-0-1" id="h0-0-1" class="i">+# thehnm&#39;s Arch Linux rice installation script
</a> 
<a href="#h0-0-3" id="h0-0-3" class="d">-## Manjaro installation command 
</a><a href="#h0-0-4" id="h0-0-4" class="d">-```
</a><a href="#h0-0-5" id="h0-0-5" class="d">-sudo pacman -S i3 rofi dunst manjaro-zsh-config gnome-keyring compton pass playerctl ttf-dejavu ctags
</a><a href="#h0-0-6" id="h0-0-6" class="d">-sudo pacman -S texlive-most nitrogen stow vim lxappearance w3m mupdf polybar libmpdclient cmake netctl
</a><a href="#h0-0-7" id="h0-0-7" class="d">-sudo pacman -S dialog wpa_actiond yay
</a><a href="#h0-0-8" id="h0-0-8" class="d">-yay -S i3lock-color 
</a><a href="#h0-0-9" id="h0-0-9" class="d">-```
</a><a href="#h0-0-10" id="h0-0-10" class="i">+I created this script to replicate my current Arch Linux setup every time I move to another machine or when I have to reinstall my system. To avoid repeating the same tedious steps when
</a><a href="#h0-0-11" id="h0-0-11" class="i">+installing Arch Linux I wrote this script that takes over most of the installation.
</a> 
<a href="#h0-0-13" id="h0-0-13" class="d">-## Arch Linux installation command
</a><a href="#h0-0-14" id="h0-0-14" class="d">-
</a><a href="#h0-0-15" id="h0-0-15" class="d">-1. `pacstrap` command
</a><a href="#h0-0-16" id="h0-0-16" class="d">-```
</a><a href="#h0-0-17" id="h0-0-17" class="d">-pacstrap /mnt base base-devel vim
</a><a href="#h0-0-18" id="h0-0-18" class="d">-```
</a><a href="#h0-0-19" id="h0-0-19" class="i">+The majority of this script was written by [Luke Smith](https://github.com/LukeSmithxyz) in his Arch Linux installation script [LARBS](https://github.com/LukeSmithxyz/LARBS). All the
</a><a href="#h0-0-20" id="h0-0-20" class="i">+credits go to him. I only added some features not present in LARBS like hostname configuration or locale configuration.
</a> 
<a href="#h0-0-22" id="h0-0-22" class="d">-2. Install this after entering `arch-chroot /mnt`
</a><a href="#h0-0-23" id="h0-0-23" class="d">-```
</a><a href="#h0-0-24" id="h0-0-24" class="d">-pacman -S i3 rofi firefox networkmanager nm-connection-editor lightdm lightdm-gtk-greeter-settings
</a><a href="#h0-0-25" id="h0-0-25" class="d">-pacman -S termite network-manager-applet xorg-server xorg-xinit
</a><a href="#h0-0-26" id="h0-0-26" class="d">-```
</a><a href="#h0-0-27" id="h0-0-27" class="i">+## Installation
</a><a href="#h0-0-28" id="h0-0-28" class="i">+### Prerequisites
</a><a href="#h0-0-29" id="h0-0-29" class="i">+The following steps are meant for a system where Arch Linux is about to get installed and no other steps where taken.
</a> 
<a href="#h0-0-31" id="h0-0-31" class="d">-3. Start `i3` whenever you login
</a><a href="#h0-0-32" id="h0-0-32" class="d">-```
</a><a href="#h0-0-33" id="h0-0-33" class="d">-echo exec i3 &gt;&gt; ~/.xinitrc
</a><a href="#h0-0-34" id="h0-0-34" class="d">-```
</a><a href="#h0-0-35" id="h0-0-35" class="d">-
</a><a href="#h0-0-36" id="h0-0-36" class="d">-4. Enable `networkmanager` and `lightdm`
</a><a href="#h0-0-37" id="h0-0-37" class="d">-```
</a><a href="#h0-0-38" id="h0-0-38" class="d">-systemctl enable NetworkManager
</a><a href="#h0-0-39" id="h0-0-39" class="d">-systemctl enable lightdm.service
</a><a href="#h0-0-40" id="h0-0-40" class="d">-```
</a><a href="#h0-0-41" id="h0-0-41" class="d">-
</a><a href="#h0-0-42" id="h0-0-42" class="d">-5. Install necessary software for this rice after rebooting
</a><a href="#h0-0-43" id="h0-0-43" class="d">-```
</a><a href="#h0-0-44" id="h0-0-44" class="d">-sudo pacman -S dunst gnome-keyring compton stow openvpn pass ttf-dejavu ctags nitrogen
</a><a href="#h0-0-45" id="h0-0-45" class="d">-sudo pacman -S udiskie alsa-utils openssh pulseaudio pavucontrol otf-ipafont
</a><a href="#h0-0-46" id="h0-0-46" class="d">-sudo pacman -S lxappearance mupdf libmpdclient dialog lightdm-webkit2-greeter
</a><a href="#h0-0-47" id="h0-0-47" class="d">-```
</a><a href="#h0-0-48" id="h0-0-48" class="i">+#### First, you have to partition your system
</a><a href="#h0-0-49" id="h0-0-49" class="i">+Obviously, this is the first step to do before installing anything.
</a><a href="#h0-0-50" id="h0-0-50" class="i">+I recommend this partition scheme:
</a> 
<a href="#h0-0-52" id="h0-0-52" class="d">-6. Install `zsh` plugins
</a><a href="#h0-0-53" id="h0-0-53" class="d">-```
</a><a href="#h0-0-54" id="h0-0-54" class="d">-sudo pacman -S zsh-autosuggestions zsh-completions zsh-history-substring-search zsh-syntax-highlighting 
</a><a href="#h0-0-55" id="h0-0-55" class="d">-```
</a><a href="#h0-0-56" id="h0-0-56" class="i">+| Mount Point | Partition     | File System   | Size |
</a><a href="#h0-0-57" id="h0-0-57" class="i">+| ------------|:-------------:| -------------:| -------:
</a><a href="#h0-0-58" id="h0-0-58" class="i">+| /boot       | /dev/sda1     | ext4          | 200-300 MB
</a><a href="#h0-0-59" id="h0-0-59" class="i">+| [swap]      | /dev/sda2     | swap          | 1.5 x the amount of RAM you have
</a><a href="#h0-0-60" id="h0-0-60" class="i">+| /           | /dev/sda3     | ext4          | the rest
</a> 
<a href="#h0-0-62" id="h0-0-62" class="d">-7. Install `texlive` packages
</a><a href="#h0-0-63" id="h0-0-63" class="d">-```
</a><a href="#h0-0-64" id="h0-0-64" class="d">-sudo pacman -S texlive-most 
</a><a href="#h0-0-65" id="h0-0-65" class="d">-```
</a><a href="#h0-0-66" id="h0-0-66" class="i">+If youre systems runs on UEFI then this small change is necessary:
</a> 
<a href="#h0-0-68" id="h0-0-68" class="d">-8. Install `yay` AUR helper
</a><a href="#h0-0-69" id="h0-0-69" class="d">-```
</a><a href="#h0-0-70" id="h0-0-70" class="d">-git clone https://aur.archlinux.org/yay.git /tmp/yay
</a><a href="#h0-0-71" id="h0-0-71" class="d">-cd /tmp/yay
</a><a href="#h0-0-72" id="h0-0-72" class="d">-makepkg -si
</a><a href="#h0-0-73" id="h0-0-73" class="d">-```
</a><a href="#h0-0-74" id="h0-0-74" class="i">+| Mount Point | Partition     | File System   | Size |
</a><a href="#h0-0-75" id="h0-0-75" class="i">+| ------------|:-------------:| -------------:| -------:
</a><a href="#h0-0-76" id="h0-0-76" class="i">+| /boot/efi   | /dev/sda1     | FAT32         | 200-300 MB
</a><a href="#h0-0-77" id="h0-0-77" class="i">+| [swap]      | /dev/sda2     | swap          | 1.5 x the amount of RAM you have
</a><a href="#h0-0-78" id="h0-0-78" class="i">+| /           | /dev/sda3     | ext4          | the rest
</a> 
<a href="#h0-0-80" id="h0-0-80" class="d">-9. Install packages from AUR
</a><a href="#h0-0-81" id="h0-0-81" class="d">-```
</a><a href="#h0-0-82" id="h0-0-82" class="d">-yay -S i3lock-color polybar lightdm-webkit-theme-aether
</a><a href="#h0-0-83" id="h0-0-83" class="d">-```
</a><a href="#h0-0-84" id="h0-0-84" class="i">+Some people recommend having a separate /home partition that stores all your user specific configurations. I never had the need for one but you always can create a separate /home partition without changing much of the installation process.
</a> 
<a href="#h0-0-86" id="h0-0-86" class="d">-10. Fix `polybar` audio control
</a><a href="#h0-0-87" id="h0-0-87" class="i">+#### Install the base Arch Linux system
</a><a href="#h0-0-88" id="h0-0-88" class="i">+Before you can do that you have to mount the boot and root partitions, like here:
</a> ```
<a href="#h0-0-90" id="h0-0-90" class="d">-cd /etc/pulse
</a><a href="#h0-0-91" id="h0-0-91" class="d">-sudo vim client.conf
</a><a href="#h0-0-92" id="h0-0-92" class="i">+mount /dev/sda3 /mnt
</a><a href="#h0-0-93" id="h0-0-93" class="i">+mkdir /mnt/boot
</a><a href="#h0-0-94" id="h0-0-94" class="i">+mount /dev/sda1 /mnt/boot
</a> ```
<a href="#h0-0-96" id="h0-0-96" class="d">-Comment the line `autospawn = no`.
</a> 
<a href="#h0-0-98" id="h0-0-98" class="d">-## Download repo
</a><a href="#h0-0-99" id="h0-0-99" class="i">+Then you can issue this command to install the base Arch Linux system:
</a> ```
<a href="#h0-0-101" id="h0-0-101" class="d">-git clone https://github.com/thehnm/dotfiles-i3.git ~/dotfiles-i3
</a><a href="#h0-0-102" id="h0-0-102" class="d">-git clone https://thehnm@github.com/thehnm/dotfiles-i3.git ~/dotfiles-i3 // for personal use
</a><a href="#h0-0-103" id="h0-0-103" class="i">+pacstrap /mnt base base-devel vim
</a> ```
 
<a href="#h0-0-106" id="h0-0-106" class="d">-## Install dotfile
</a><a href="#h0-0-107" id="h0-0-107" class="d">-```
</a><a href="#h0-0-108" id="h0-0-108" class="d">-mkdir -p ~/.config/i3
</a><a href="#h0-0-109" id="h0-0-109" class="d">-mkdir -p ~/.config/dunst
</a><a href="#h0-0-110" id="h0-0-110" class="d">-mkdir -p ~/.config/gtk-3.0
</a><a href="#h0-0-111" id="h0-0-111" class="d">-mkdir -p ~/.config/polybar
</a><a href="#h0-0-112" id="h0-0-112" class="d">-mkdir -p ~/.config/termite
</a><a href="#h0-0-113" id="h0-0-113" class="d">-mkdir -p ~/.conky/
</a><a href="#h0-0-114" id="h0-0-114" class="d">-mkdir -p ~/.local/share/fonts
</a><a href="#h0-0-115" id="h0-0-115" class="d">-mkdir -p ~/Pictures
</a><a href="#h0-0-116" id="h0-0-116" class="d">-mkdir -p ~/Documents
</a><a href="#h0-0-117" id="h0-0-117" class="d">-mkdir -p ~/Downloads
</a><a href="#h0-0-118" id="h0-0-118" class="i">+This also installs an editor called vim. You can omit the last package or replace it with anything else.
</a> 
<a href="#h0-0-120" id="h0-0-120" class="d">-cd ~/dotfiles-i3/
</a><a href="#h0-0-121" id="h0-0-121" class="d">-stow config.stow
</a><a href="#h0-0-122" id="h0-0-122" class="d">-stow wallpaper.stow
</a><a href="#h0-0-123" id="h0-0-123" class="d">-stow fonts.stow
</a><a href="#h0-0-124" id="h0-0-124" class="i">+#### Generate fstab file
</a><a href="#h0-0-125" id="h0-0-125" class="i">+Issue this command to create a fstab file. This file indicates the partitions that will be automatically mounted on startup.
</a> ```
<a href="#h0-0-127" id="h0-0-127" class="d">-
</a><a href="#h0-0-128" id="h0-0-128" class="d">-## Install `vundle` vim plugin manager
</a><a href="#h0-0-129" id="h0-0-129" class="d">-```
</a><a href="#h0-0-130" id="h0-0-130" class="d">-git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim
</a><a href="#h0-0-131" id="h0-0-131" class="i">+genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
</a> ```
 
<a href="#h0-0-134" id="h0-0-134" class="d">-### Install `vim` plugins
</a><a href="#h0-0-135" id="h0-0-135" class="i">+#### Install my dotfile
</a><a href="#h0-0-136" id="h0-0-136" class="i">+When the base system is installed then you can change into your installation:
</a> ```
<a href="#h0-0-138" id="h0-0-138" class="d">-vim +PluginInstall +qall
</a><a href="#h0-0-139" id="h0-0-139" class="i">+arch-chroot /mnt
</a> ```
 
<a href="#h0-0-142" id="h0-0-142" class="d">-## Set Xresources
</a><a href="#h0-0-143" id="h0-0-143" class="i">+Then download my installation script with this command, make it executable and run it:
</a> ```
<a href="#h0-0-145" id="h0-0-145" class="d">-xrdb ~/.Xresources
</a><a href="#h0-0-146" id="h0-0-146" class="i">+curl https://raw.githubusercontent.com/thehnm/dotfiles-i3/master/arch_bootstrap/install.sh &gt;&gt; install.sh
</a><a href="#h0-0-147" id="h0-0-147" class="i">+chmod ugo+x install.sh
</a><a href="#h0-0-148" id="h0-0-148" class="i">+./install.sh
</a> ```
 
<a href="#h0-0-151" id="h0-0-151" class="d">-## Set `gnome-keyring` as `git` credential helper
</a><a href="#h0-0-152" id="h0-0-152" class="d">-```
</a><a href="#h0-0-153" id="h0-0-153" class="d">-cd /usr/share/git/credential/gnome-keyring
</a><a href="#h0-0-154" id="h0-0-154" class="d">-sudo make
</a><a href="#h0-0-155" id="h0-0-155" class="d">-git config --global credential.helper /usr/share/git/credential/gnome-keyring/git-credential-gnome-keyring
</a><a href="#h0-0-156" id="h0-0-156" class="d">-```
</a><a href="#h0-0-157" id="h0-0-157" class="i">+That&#39;s it. This script installs my i3 setup that I currently use on my systems and handles other settings you otherwise would have to do.
</a><b>diff --git a/<a id="h1" href="../file/arch_bootstrap/arch_bootstrap.sh.html">arch_bootstrap/arch_bootstrap.sh</a> b/<a href="../file/arch_bootstrap/arch_bootstrap.sh.html">arch_bootstrap/arch_bootstrap.sh</a></b>
<a href="#h1-0" id="h1-0" class="h">@@ -1,226 +0,0 @@
</a><a href="#h1-0-0" id="h1-0-0" class="d">-#!/bin/bash
</a><a href="#h1-0-1" id="h1-0-1" class="d">-
</a><a href="#h1-0-2" id="h1-0-2" class="d">-bold=$(tput bold)
</a><a href="#h1-0-3" id="h1-0-3" class="d">-normal=$(tput sgr0)
</a><a href="#h1-0-4" id="h1-0-4" class="d">-GREEN=&#39;\033[0;32m&#39;
</a><a href="#h1-0-5" id="h1-0-5" class="d">-NC=&#39;\033[0m&#39;
</a><a href="#h1-0-6" id="h1-0-6" class="d">-
</a><a href="#h1-0-7" id="h1-0-7" class="d">-echodone() {
</a><a href="#h1-0-8" id="h1-0-8" class="d">-  echo -e &quot; ${GREEN}[Done]${NC}&quot;
</a><a href="#h1-0-9" id="h1-0-9" class="d">-}
</a><a href="#h1-0-10" id="h1-0-10" class="d">-
</a><a href="#h1-0-11" id="h1-0-11" class="d">-setlocaltime() {
</a><a href="#h1-0-12" id="h1-0-12" class="d">-  echo -n &quot;${bold}Setting localtime to Berlin${normal}&quot;
</a><a href="#h1-0-13" id="h1-0-13" class="d">-  ln -sf /usr/share/zoneinfo/Europe/Berlin /etc/localtime
</a><a href="#h1-0-14" id="h1-0-14" class="d">-  hwclock --systohc
</a><a href="#h1-0-15" id="h1-0-15" class="d">-  echodone
</a><a href="#h1-0-16" id="h1-0-16" class="d">-}
</a><a href="#h1-0-17" id="h1-0-17" class="d">-
</a><a href="#h1-0-18" id="h1-0-18" class="d">-setlocale() {
</a><a href="#h1-0-19" id="h1-0-19" class="d">-  echo ${bold}Setting locale${normal}
</a><a href="#h1-0-20" id="h1-0-20" class="d">-  sed -i &#39;s/^#de_DE/de_DE/g&#39; /etc/locale.gen
</a><a href="#h1-0-21" id="h1-0-21" class="d">-  sed -i &#39;s/^#en_US/en_US/g&#39; /etc/locale.gen
</a><a href="#h1-0-22" id="h1-0-22" class="d">-  locale-gen
</a><a href="#h1-0-23" id="h1-0-23" class="d">-  echo LANG=en_US.UTF-8 &gt;&gt; /etc/locale.conf
</a><a href="#h1-0-24" id="h1-0-24" class="d">-  echo LANGUAGE=en_US.UTF-8 &gt;&gt; /etc/locale.conf
</a><a href="#h1-0-25" id="h1-0-25" class="d">-  echo LC_ALL=de_DE.UTF-8 &gt;&gt; /etc/locale.conf
</a><a href="#h1-0-26" id="h1-0-26" class="d">-  echo KEYMAP=de-latin1 &gt;&gt; /etc/vconsole.conf
</a><a href="#h1-0-27" id="h1-0-27" class="d">-  echodone
</a><a href="#h1-0-28" id="h1-0-28" class="d">-}
</a><a href="#h1-0-29" id="h1-0-29" class="d">-
</a><a href="#h1-0-30" id="h1-0-30" class="d">-setrootpasswd() {
</a><a href="#h1-0-31" id="h1-0-31" class="d">-  echo ${bold}Setting root password${normal}
</a><a href="#h1-0-32" id="h1-0-32" class="d">-  passwd
</a><a href="#h1-0-33" id="h1-0-33" class="d">-  echodone
</a><a href="#h1-0-34" id="h1-0-34" class="d">-}
</a><a href="#h1-0-35" id="h1-0-35" class="d">-
</a><a href="#h1-0-36" id="h1-0-36" class="d">-setupnewuser() {
</a><a href="#h1-0-37" id="h1-0-37" class="d">-  echo ${bold}Create new user${normal}
</a><a href="#h1-0-38" id="h1-0-38" class="d">-  read -p &quot;Enter non-root user&#39;s name: &quot; name
</a><a href="#h1-0-39" id="h1-0-39" class="d">-  useradd -m -g wheel $name
</a><a href="#h1-0-40" id="h1-0-40" class="d">-  echo Set password for $name
</a><a href="#h1-0-41" id="h1-0-41" class="d">-  passwd $name
</a><a href="#h1-0-42" id="h1-0-42" class="d">-  chfn $name
</a><a href="#h1-0-43" id="h1-0-43" class="d">-  sed -i &#39;s/^# %wheel ALL=(ALL) ALL/%wheel ALL=(ALL) ALL/g&#39; /etc/sudoers
</a><a href="#h1-0-44" id="h1-0-44" class="d">-}
</a><a href="#h1-0-45" id="h1-0-45" class="d">-
</a><a href="#h1-0-46" id="h1-0-46" class="d">-install() {
</a><a href="#h1-0-47" id="h1-0-47" class="d">-  echo -n &quot;Installing $1&quot;
</a><a href="#h1-0-48" id="h1-0-48" class="d">-  pacman --noconfirm --needed -S &quot;$1&quot; &amp;&gt;/dev/null
</a><a href="#h1-0-49" id="h1-0-49" class="d">-  echodone
</a><a href="#h1-0-50" id="h1-0-50" class="d">-}
</a><a href="#h1-0-51" id="h1-0-51" class="d">-
</a><a href="#h1-0-52" id="h1-0-52" class="d">-aurinstall() {
</a><a href="#h1-0-53" id="h1-0-53" class="d">-  echo &quot;Installing $1 from AUR&quot;
</a><a href="#h1-0-54" id="h1-0-54" class="d">-  sudo -u $name yay --noconfirm -S &quot;$1&quot;
</a><a href="#h1-0-55" id="h1-0-55" class="d">-  echodone
</a><a href="#h1-0-56" id="h1-0-56" class="d">-}
</a><a href="#h1-0-57" id="h1-0-57" class="d">-
</a><a href="#h1-0-58" id="h1-0-58" class="d">-installyay() {
</a><a href="#h1-0-59" id="h1-0-59" class="d">-  echo ${bold}Install yay AUR helper${normal}
</a><a href="#h1-0-60" id="h1-0-60" class="d">-  pacman --noconfirm -S git &amp;&gt;/dev/null
</a><a href="#h1-0-61" id="h1-0-61" class="d">-  sudo -u $name git clone https://aur.archlinux.org/yay.git /home/$name/yay
</a><a href="#h1-0-62" id="h1-0-62" class="d">-  cd /home/$name/yay
</a><a href="#h1-0-63" id="h1-0-63" class="d">-  sudo -u $name makepkg --noconfirm -si
</a><a href="#h1-0-64" id="h1-0-64" class="d">-  echodone
</a><a href="#h1-0-65" id="h1-0-65" class="d">-}
</a><a href="#h1-0-66" id="h1-0-66" class="d">-
</a><a href="#h1-0-67" id="h1-0-67" class="d">-installloop() {
</a><a href="#h1-0-68" id="h1-0-68" class="d">-  curl https://raw.githubusercontent.com/thehnm/dotfiles-i3/master/arch_bootstrap/packages.csv &gt;&gt; /tmp/packages.csv
</a><a href="#h1-0-69" id="h1-0-69" class="d">-  while true
</a><a href="#h1-0-70" id="h1-0-70" class="d">-  do
</a><a href="#h1-0-71" id="h1-0-71" class="d">-    read -p &quot;Do you want i3bar or polybar? &quot; bar
</a><a href="#h1-0-72" id="h1-0-72" class="d">-    case $bar in
</a><a href="#h1-0-73" id="h1-0-73" class="d">-      &quot;i3bar&quot; ) sed -i &#39;/A,polybar/d&#39; /tmp/packages.csv
</a><a href="#h1-0-74" id="h1-0-74" class="d">-                break;;
</a><a href="#h1-0-75" id="h1-0-75" class="d">-
</a><a href="#h1-0-76" id="h1-0-76" class="d">-      &quot;polybar&quot; ) sed -i &#39;/,i3blocks/d&#39; /tmp/packages.csv
</a><a href="#h1-0-77" id="h1-0-77" class="d">-                  sed -i &#39;/,i3status/d&#39; /tmp/packages.csv
</a><a href="#h1-0-78" id="h1-0-78" class="d">-                  sed -i &#39;/,dmenu/d&#39; /tmp/packages.csv
</a><a href="#h1-0-79" id="h1-0-79" class="d">-                  break;;
</a><a href="#h1-0-80" id="h1-0-80" class="d">-
</a><a href="#h1-0-81" id="h1-0-81" class="d">-      * ) echo &quot;Dude, just enter i3bar or polybar, please.&quot;;;
</a><a href="#h1-0-82" id="h1-0-82" class="d">-    esac
</a><a href="#h1-0-83" id="h1-0-83" class="d">-  done
</a><a href="#h1-0-84" id="h1-0-84" class="d">-
</a><a href="#h1-0-85" id="h1-0-85" class="d">-  read -p &quot;Do you want to edit the list of packages to be installed? &quot; edit
</a><a href="#h1-0-86" id="h1-0-86" class="d">-  while true
</a><a href="#h1-0-87" id="h1-0-87" class="d">-  do
</a><a href="#h1-0-88" id="h1-0-88" class="d">-    case $edit in
</a><a href="#h1-0-89" id="h1-0-89" class="d">-      [yY]* ) nano /tmp/packages.csv
</a><a href="#h1-0-90" id="h1-0-90" class="d">-              break;;
</a><a href="#h1-0-91" id="h1-0-91" class="d">-
</a><a href="#h1-0-92" id="h1-0-92" class="d">-      [nN]* ) break;;
</a><a href="#h1-0-93" id="h1-0-93" class="d">-
</a><a href="#h1-0-94" id="h1-0-94" class="d">-      * ) break ;;
</a><a href="#h1-0-95" id="h1-0-95" class="d">-    esac
</a><a href="#h1-0-96" id="h1-0-96" class="d">-  done
</a><a href="#h1-0-97" id="h1-0-97" class="d">-
</a><a href="#h1-0-98" id="h1-0-98" class="d">-  echo -n &quot;Installing archlinux-keyring&quot;
</a><a href="#h1-0-99" id="h1-0-99" class="d">-  pacman --noconfirm -Sy archlinux-keyring &amp;&gt;/dev/null
</a><a href="#h1-0-100" id="h1-0-100" class="d">-  echodone
</a><a href="#h1-0-101" id="h1-0-101" class="d">-
</a><a href="#h1-0-102" id="h1-0-102" class="d">-  INPUT=/tmp/packages.csv
</a><a href="#h1-0-103" id="h1-0-103" class="d">-  IFS=,
</a><a href="#h1-0-104" id="h1-0-104" class="d">-  [ ! -f $INPUT ] &amp;&amp; { echo &quot;$INPUT file not found&quot;; exit 99; }
</a><a href="#h1-0-105" id="h1-0-105" class="d">-  while read tag program
</a><a href="#h1-0-106" id="h1-0-106" class="d">-  do
</a><a href="#h1-0-107" id="h1-0-107" class="d">-    case $tag in
</a><a href="#h1-0-108" id="h1-0-108" class="d">-      &quot;&quot;) install &quot;$program&quot; ;;
</a><a href="#h1-0-109" id="h1-0-109" class="d">-      &quot;A&quot;) aurinstall &quot;$program&quot; ;;
</a><a href="#h1-0-110" id="h1-0-110" class="d">-    esac
</a><a href="#h1-0-111" id="h1-0-111" class="d">-  done &lt; $INPUT
</a><a href="#h1-0-112" id="h1-0-112" class="d">-}
</a><a href="#h1-0-113" id="h1-0-113" class="d">-
</a><a href="#h1-0-114" id="h1-0-114" class="d">-enableservices() {
</a><a href="#h1-0-115" id="h1-0-115" class="d">-  echo -n ${bold}Enable systemd services${normal}
</a><a href="#h1-0-116" id="h1-0-116" class="d">-  systemctl enable NetworkManager &amp;&gt;/dev/null
</a><a href="#h1-0-117" id="h1-0-117" class="d">-  systemctl enable lightdm &amp;&gt;/dev/null
</a><a href="#h1-0-118" id="h1-0-118" class="d">-  echodone
</a><a href="#h1-0-119" id="h1-0-119" class="d">-}
</a><a href="#h1-0-120" id="h1-0-120" class="d">-
</a><a href="#h1-0-121" id="h1-0-121" class="d">-installdotfile() {
</a><a href="#h1-0-122" id="h1-0-122" class="d">-  echo ${bold}Install my i3 dotfile${normal}
</a><a href="#h1-0-123" id="h1-0-123" class="d">-  sudo -u $name git clone https://thehnm@github.com/thehnm/dotfiles-i3.git /home/$name/dotfiles-i3
</a><a href="#h1-0-124" id="h1-0-124" class="d">-  cd /home/$name/dotfiles-i3/
</a><a href="#h1-0-125" id="h1-0-125" class="d">-  case $bar in
</a><a href="#h1-0-126" id="h1-0-126" class="d">-    &quot;i3bar&quot; ) sudo -u $name sed -i &#39;/polybar/d&#39; /home/$name/dotfiles-i3/config.stow/.config/i3/config
</a><a href="#h1-0-127" id="h1-0-127" class="d">-              sudo -u $name sed -i &#39;/rofi/d&#39; /home/$name/dotfiles-i3/config.stow/.config/i3/config
</a><a href="#h1-0-128" id="h1-0-128" class="d">-              sudo -u $name sed -i &#39;s/^#1//g&#39; /home/$name/dotfiles-i3/config.stow/.config/i3/config
</a><a href="#h1-0-129" id="h1-0-129" class="d">-              break;;
</a><a href="#h1-0-130" id="h1-0-130" class="d">-    &quot;polybar&quot; ) sudo -u $name sed -i &#39;/,i3blocks/d&#39; /tmp/packages.csv
</a><a href="#h1-0-131" id="h1-0-131" class="d">-                sudo -u $name sed -i &#39;/,i3status/d&#39; /tmp/packages.csv
</a><a href="#h1-0-132" id="h1-0-132" class="d">-                break;;
</a><a href="#h1-0-133" id="h1-0-133" class="d">-  esac
</a><a href="#h1-0-134" id="h1-0-134" class="d">-  sudo -H -u $name bash -c &#39;bash install_dotfiles.sh&#39;
</a><a href="#h1-0-135" id="h1-0-135" class="d">-  echodone
</a><a href="#h1-0-136" id="h1-0-136" class="d">-}
</a><a href="#h1-0-137" id="h1-0-137" class="d">-
</a><a href="#h1-0-138" id="h1-0-138" class="d">-setxinitrc() {
</a><a href="#h1-0-139" id="h1-0-139" class="d">-  echo -n ${bold}Set xinitrc${normal}
</a><a href="#h1-0-140" id="h1-0-140" class="d">-  echo exec i3 &gt;&gt; $HOME/.xinitrc
</a><a href="#h1-0-141" id="h1-0-141" class="d">-  echodone
</a><a href="#h1-0-142" id="h1-0-142" class="d">-}
</a><a href="#h1-0-143" id="h1-0-143" class="d">-
</a><a href="#h1-0-144" id="h1-0-144" class="d">-setuphost() {
</a><a href="#h1-0-145" id="h1-0-145" class="d">-  echo ${bold}Set up host${normal}
</a><a href="#h1-0-146" id="h1-0-146" class="d">-  read -p &quot;Enter desired hostname: &quot; hostname
</a><a href="#h1-0-147" id="h1-0-147" class="d">-  echo $hostname &gt;&gt; /etc/hostname
</a><a href="#h1-0-148" id="h1-0-148" class="d">-  echo 127.0.0.1        localhost &gt;&gt; /etc/hosts
</a><a href="#h1-0-149" id="h1-0-149" class="d">-  echo ::1	localhost &gt;&gt; /etc/hosts
</a><a href="#h1-0-150" id="h1-0-150" class="d">-  echo 127.0.1.1	$hostname.localdomain   $hostname &gt;&gt; /etc/hosts
</a><a href="#h1-0-151" id="h1-0-151" class="d">-  echodone
</a><a href="#h1-0-152" id="h1-0-152" class="d">-}
</a><a href="#h1-0-153" id="h1-0-153" class="d">-
</a><a href="#h1-0-154" id="h1-0-154" class="d">-installgrub() {
</a><a href="#h1-0-155" id="h1-0-155" class="d">-  echo ${bold}Set up grub boot loader${normal}
</a><a href="#h1-0-156" id="h1-0-156" class="d">-  read -p &quot;Enter the last character your disk label where Arch is installed (dev/sd_): &quot; label
</a><a href="#h1-0-157" id="h1-0-157" class="d">-  while true
</a><a href="#h1-0-158" id="h1-0-158" class="d">-  do
</a><a href="#h1-0-159" id="h1-0-159" class="d">-    read -p &quot;Do you have UEFI enabled? &quot; answer
</a><a href="#h1-0-160" id="h1-0-160" class="d">-    case $answer in
</a><a href="#h1-0-161" id="h1-0-161" class="d">-      [yY]* ) echo -n &quot;Installing grub&quot;
</a><a href="#h1-0-162" id="h1-0-162" class="d">-              pacman --noconfirm -S grub efibootmgr
</a><a href="#h1-0-163" id="h1-0-163" class="d">-              grub-install --target=x86_64-pc --bootloader-id=GRUB --efi-directory=/boot/efi/
</a><a href="#h1-0-164" id="h1-0-164" class="d">-              grub-mkconfig -o /boot/grub/grub.cfg
</a><a href="#h1-0-165" id="h1-0-165" class="d">-              echodone
</a><a href="#h1-0-166" id="h1-0-166" class="d">-              break;;
</a><a href="#h1-0-167" id="h1-0-167" class="d">-
</a><a href="#h1-0-168" id="h1-0-168" class="d">-      [nN]* ) echo -n &quot;Installing grub&quot;
</a><a href="#h1-0-169" id="h1-0-169" class="d">-              pacman --noconfirm -S grub
</a><a href="#h1-0-170" id="h1-0-170" class="d">-              grub-install --target=i386-pc /dev/sd$label
</a><a href="#h1-0-171" id="h1-0-171" class="d">-              grub-mkconfig -o /boot/grub/grub.cfg
</a><a href="#h1-0-172" id="h1-0-172" class="d">-              echodone
</a><a href="#h1-0-173" id="h1-0-173" class="d">-              break;;
</a><a href="#h1-0-174" id="h1-0-174" class="d">-
</a><a href="#h1-0-175" id="h1-0-175" class="d">-      * ) echo &quot;Dude, just enter Y or N, please.&quot;;;
</a><a href="#h1-0-176" id="h1-0-176" class="d">-    esac
</a><a href="#h1-0-177" id="h1-0-177" class="d">-  done
</a><a href="#h1-0-178" id="h1-0-178" class="d">-  echodone
</a><a href="#h1-0-179" id="h1-0-179" class="d">-}
</a><a href="#h1-0-180" id="h1-0-180" class="d">-
</a><a href="#h1-0-181" id="h1-0-181" class="d">-##########################################################################################################################
</a><a href="#h1-0-182" id="h1-0-182" class="d">-
</a><a href="#h1-0-183" id="h1-0-183" class="d">-echo -n &quot;${bold}Move arch_bootstrap.sh to /tmp/${normal}&quot;
</a><a href="#h1-0-184" id="h1-0-184" class="d">-mv arch_bootstrap.sh /tmp/
</a><a href="#h1-0-185" id="h1-0-185" class="d">-echodone
</a><a href="#h1-0-186" id="h1-0-186" class="d">-
</a><a href="#h1-0-187" id="h1-0-187" class="d">-setlocaltime
</a><a href="#h1-0-188" id="h1-0-188" class="d">-
</a><a href="#h1-0-189" id="h1-0-189" class="d">-setlocale
</a><a href="#h1-0-190" id="h1-0-190" class="d">-
</a><a href="#h1-0-191" id="h1-0-191" class="d">-setrootpasswd
</a><a href="#h1-0-192" id="h1-0-192" class="d">-
</a><a href="#h1-0-193" id="h1-0-193" class="d">-setupnewuser
</a><a href="#h1-0-194" id="h1-0-194" class="d">-
</a><a href="#h1-0-195" id="h1-0-195" class="d">-installyay
</a><a href="#h1-0-196" id="h1-0-196" class="d">-
</a><a href="#h1-0-197" id="h1-0-197" class="d">-installloop
</a><a href="#h1-0-198" id="h1-0-198" class="d">-
</a><a href="#h1-0-199" id="h1-0-199" class="d">-enableservices
</a><a href="#h1-0-200" id="h1-0-200" class="d">-
</a><a href="#h1-0-201" id="h1-0-201" class="d">-installdotfile
</a><a href="#h1-0-202" id="h1-0-202" class="d">-
</a><a href="#h1-0-203" id="h1-0-203" class="d">-setxinitrc
</a><a href="#h1-0-204" id="h1-0-204" class="d">-
</a><a href="#h1-0-205" id="h1-0-205" class="d">-setuphost
</a><a href="#h1-0-206" id="h1-0-206" class="d">-
</a><a href="#h1-0-207" id="h1-0-207" class="d">-installgrub
</a><a href="#h1-0-208" id="h1-0-208" class="d">-
</a><a href="#h1-0-209" id="h1-0-209" class="d">-# Fix audio problem
</a><a href="#h1-0-210" id="h1-0-210" class="d">-echo -n ${bold}Fix audio problem${normal}
</a><a href="#h1-0-211" id="h1-0-211" class="d">-sed -i &#39;s/^ autospawn/; autospawn/g&#39; /etc/pulse/client.conf
</a><a href="#h1-0-212" id="h1-0-212" class="d">-echodone
</a><a href="#h1-0-213" id="h1-0-213" class="d">-
</a><a href="#h1-0-214" id="h1-0-214" class="d">-# Install vundle
</a><a href="#h1-0-215" id="h1-0-215" class="d">-echo -n ${bold}Install vundle${normal}
</a><a href="#h1-0-216" id="h1-0-216" class="d">-cd /home/$name/
</a><a href="#h1-0-217" id="h1-0-217" class="d">-sudo -u $name git clone https://github.com/VundleVim/Vundle.vim.git /home/$name/.vim/bundle/Vundle.vim
</a><a href="#h1-0-218" id="h1-0-218" class="d">-echodone
</a><a href="#h1-0-219" id="h1-0-219" class="d">-
</a><a href="#h1-0-220" id="h1-0-220" class="d">-echo -n ${bold}Remove packages.csv and arch_bootstrap.sh${normal}
</a><a href="#h1-0-221" id="h1-0-221" class="d">-rm /tmp/packages.csv
</a><a href="#h1-0-222" id="h1-0-222" class="d">-rm /tmp/arch_bootstrap.sh
</a><a href="#h1-0-223" id="h1-0-223" class="d">-echodone
</a><a href="#h1-0-224" id="h1-0-224" class="d">-
</a><a href="#h1-0-225" id="h1-0-225" class="d">-echo ${bold}Done. Reboot now!${normal}
</a><b>diff --git a/<a id="h2" href="../file/arch_bootstrap/install.sh.html">arch_bootstrap/install.sh</a> b/<a href="../file/arch_bootstrap/install.sh.html">arch_bootstrap/install.sh</a></b>
<a href="#h2-0" id="h2-0" class="h">@@ -0,0 +1,315 @@
</a><a href="#h2-0-0" id="h2-0-0" class="i">+#!/bin/bash
</a><a href="#h2-0-1" id="h2-0-1" class="i">+
</a><a href="#h2-0-2" id="h2-0-2" class="i">+[ -z ${dotfilesrepo+x} ] &amp;&amp; dotfilesrepo=&quot;https://github.com/thehnm/dotfiles-i3.git&quot;
</a><a href="#h2-0-3" id="h2-0-3" class="i">+[ -z ${vundlerepo+x} ] &amp;&amp; vundlerepo=&quot;https://github.com/VundleVim/Vundle.vim.git&quot;
</a><a href="#h2-0-4" id="h2-0-4" class="i">+
</a><a href="#h2-0-5" id="h2-0-5" class="i">+###############################################################################
</a><a href="#h2-0-6" id="h2-0-6" class="i">+
</a><a href="#h2-0-7" id="h2-0-7" class="i">+initialcheck() { pacman -S --noconfirm --needed dialog || { echo &quot;Are you sure you&#39;re running this as the root user? Are you sure you&#39;re using an Arch-based distro? ;-) Are you sure you have an internet connection?&quot;; exit; } ;}
</a><a href="#h2-0-8" id="h2-0-8" class="i">+
</a><a href="#h2-0-9" id="h2-0-9" class="i">+welcomemsg() { \
</a><a href="#h2-0-10" id="h2-0-10" class="i">+  dialog --title &quot;Welcome!&quot; --msgbox &quot;Welcome to thehnm&#39;s Arch Linux Installation Script!\\n\\nThis script will automatically install a fully-featured i3wm Arch Linux desktop, which I use as my main machine.\\n\\n-thehnm&quot; 10 60
</a><a href="#h2-0-11" id="h2-0-11" class="i">+}
</a><a href="#h2-0-12" id="h2-0-12" class="i">+
</a><a href="#h2-0-13" id="h2-0-13" class="i">+preinstallmsg() { \
</a><a href="#h2-0-14" id="h2-0-14" class="i">+  dialog --title &quot;Start installing the script!&quot; --yes-label &quot;Let&#39;s go!&quot; --no-label &quot;No, nevermind!&quot; --yesno &quot;It will take some time, but when done, you can relax even more with your complete system.\\n\\nNow just press &lt;Let&#39;s go!&gt; and the system will begin installation!&quot; 13 60 || { clear; exit; }
</a><a href="#h2-0-15" id="h2-0-15" class="i">+}
</a><a href="#h2-0-16" id="h2-0-16" class="i">+
</a><a href="#h2-0-17" id="h2-0-17" class="i">+setlocale() {
</a><a href="#h2-0-18" id="h2-0-18" class="i">+  answer=$(dialog --title &quot;Locale settings&quot; --yesno &quot;Do you want to edit the locale.gen file?&quot; 5 45 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;1 || exit)
</a><a href="#h2-0-19" id="h2-0-19" class="i">+  case $? in
</a><a href="#h2-0-20" id="h2-0-20" class="i">+    0 ) clear &amp;&amp; sudo vim /etc/locale.gen
</a><a href="#h2-0-21" id="h2-0-21" class="i">+        break;;
</a><a href="#h2-0-22" id="h2-0-22" class="i">+    1 ) break;;
</a><a href="#h2-0-23" id="h2-0-23" class="i">+  esac
</a><a href="#h2-0-24" id="h2-0-24" class="i">+
</a><a href="#h2-0-25" id="h2-0-25" class="i">+  dialog --infobox &quot;Setting locale...&quot; 4 40
</a><a href="#h2-0-26" id="h2-0-26" class="i">+  locale-gen &amp;&gt;/dev/null
</a><a href="#h2-0-27" id="h2-0-27" class="i">+  echo &quot;LANG=$1&quot; &gt;&gt; /etc/locale.conf
</a><a href="#h2-0-28" id="h2-0-28" class="i">+  echo &quot;LANGUAGE=$1&quot; &gt;&gt; /etc/locale.conf
</a><a href="#h2-0-29" id="h2-0-29" class="i">+  echo &quot;LC_ALL=$2&quot; &gt;&gt; /etc/locale.conf
</a><a href="#h2-0-30" id="h2-0-30" class="i">+  echo &quot;KEYMAP=$3&quot; &gt;&gt; /etc/vconsole.conf
</a><a href="#h2-0-31" id="h2-0-31" class="i">+}
</a><a href="#h2-0-32" id="h2-0-32" class="i">+
</a><a href="#h2-0-33" id="h2-0-33" class="i">+settimezone() {
</a><a href="#h2-0-34" id="h2-0-34" class="i">+  # Select continent
</a><a href="#h2-0-35" id="h2-0-35" class="i">+  C=(1 &quot;Africa&quot; 2 &quot;America&quot; 3 &quot;Antarctica&quot; 4 &quot;Arctic&quot; 5 &quot;Asia&quot; 6 &quot;Australia&quot; 7 &quot;Europe&quot; 8 &quot;Pacific&quot;)
</a><a href="#h2-0-36" id="h2-0-36" class="i">+  choice1=$(dialog --title &quot;Set timezone&quot; --menu &quot;Chose one&quot; 24 80 17 &quot;${C[@]}&quot; 3&gt;&amp;2 2&gt;&amp;1 1&gt;&amp;3)
</a><a href="#h2-0-37" id="h2-0-37" class="i">+  continent=${C[2*$choice1-1]}
</a><a href="#h2-0-38" id="h2-0-38" class="i">+
</a><a href="#h2-0-39" id="h2-0-39" class="i">+  # Select city
</a><a href="#h2-0-40" id="h2-0-40" class="i">+  let i=0 # define counting variable
</a><a href="#h2-0-41" id="h2-0-41" class="i">+  W=() # define working array
</a><a href="#h2-0-42" id="h2-0-42" class="i">+  while read -r line; do # process file by file
</a><a href="#h2-0-43" id="h2-0-43" class="i">+    let i=$i+1
</a><a href="#h2-0-44" id="h2-0-44" class="i">+    W+=($i &quot;$line&quot;)
</a><a href="#h2-0-45" id="h2-0-45" class="i">+  done &lt; &lt;( ls -1 /usr/share/zoneinfo/$continent )
</a><a href="#h2-0-46" id="h2-0-46" class="i">+  choice2=$(dialog --title &quot;Set timezone&quot; --menu &quot;Chose one&quot; 24 80 17 &quot;${W[@]}&quot; 3&gt;&amp;2 2&gt;&amp;1 1&gt;&amp;3)
</a><a href="#h2-0-47" id="h2-0-47" class="i">+  clear
</a><a href="#h2-0-48" id="h2-0-48" class="i">+  if [ &quot;$?&quot; = &quot;0&quot; ]; then # Exit with OK
</a><a href="#h2-0-49" id="h2-0-49" class="i">+    city=${W[2*$choice2-1]}
</a><a href="#h2-0-50" id="h2-0-50" class="i">+  fi
</a><a href="#h2-0-51" id="h2-0-51" class="i">+
</a><a href="#h2-0-52" id="h2-0-52" class="i">+  # Set localtime
</a><a href="#h2-0-53" id="h2-0-53" class="i">+  dialog --infobox &quot;Setting timezone...&quot; 4 40
</a><a href="#h2-0-54" id="h2-0-54" class="i">+  ln -sf /usr/share/zoneinfo/$continent/$city /etc/localtime
</a><a href="#h2-0-55" id="h2-0-55" class="i">+  hwclock --systohc
</a><a href="#h2-0-56" id="h2-0-56" class="i">+}
</a><a href="#h2-0-57" id="h2-0-57" class="i">+
</a><a href="#h2-0-58" id="h2-0-58" class="i">+getuserandpass() {
</a><a href="#h2-0-59" id="h2-0-59" class="i">+  # Prompts user for new username an password.
</a><a href="#h2-0-60" id="h2-0-60" class="i">+  # Checks if username is valid and confirms passwd.
</a><a href="#h2-0-61" id="h2-0-61" class="i">+  name=$(dialog --inputbox &quot;First, please enter a name for the user account.&quot; 10 60 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;1) || exit
</a><a href="#h2-0-62" id="h2-0-62" class="i">+  namere=&quot;^[a-z_][a-z0-9_-]*$&quot;
</a><a href="#h2-0-63" id="h2-0-63" class="i">+  while ! [[ &quot;${name}&quot; =~ ${namere} ]]; do
</a><a href="#h2-0-64" id="h2-0-64" class="i">+  	name=$(dialog --no-cancel --inputbox &quot;Username not valid. Give a username beginning with a letter, with only lowercase letters, - or _.&quot; 10 60 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;1)
</a><a href="#h2-0-65" id="h2-0-65" class="i">+  done
</a><a href="#h2-0-66" id="h2-0-66" class="i">+  pass1=$(dialog --no-cancel --insecure --passwordbox &quot;Enter a password for that user.&quot; 10 60 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;1)
</a><a href="#h2-0-67" id="h2-0-67" class="i">+  pass2=$(dialog --no-cancel --insecure --passwordbox &quot;Retype password.&quot; 10 60 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;1)
</a><a href="#h2-0-68" id="h2-0-68" class="i">+  while ! [[ ${pass1} == ${pass2} ]]; do
</a><a href="#h2-0-69" id="h2-0-69" class="i">+ 	unset pass2
</a><a href="#h2-0-70" id="h2-0-70" class="i">+	pass1=$(dialog --no-cancel --insecure --passwordbox &quot;Passwords do not match.\\n\\nEnter password again.&quot; 10 60 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;1)
</a><a href="#h2-0-71" id="h2-0-71" class="i">+	pass2=$(dialog --no-cancel --insecure --passwordbox &quot;Retype password.&quot; 10 60 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;1)
</a><a href="#h2-0-72" id="h2-0-72" class="i">+  done ;}
</a><a href="#h2-0-73" id="h2-0-73" class="i">+
</a><a href="#h2-0-74" id="h2-0-74" class="i">+usercheck() { \
</a><a href="#h2-0-75" id="h2-0-75" class="i">+  ! (id -u $name &amp;&gt;/dev/null) ||
</a><a href="#h2-0-76" id="h2-0-76" class="i">+  dialog --colors --title &quot;WARNING!&quot; --yes-label &quot;CONTINUE&quot; --no-label &quot;No wait...&quot; --yesno &quot;The user \`$name\` already exists on this system. This script can install for a user already existing, but it will \\Zboverwrite\\Zn any conflicting settings/dotfiles on the user account.\\n\\nThis script will \\Zbnot\\Zn overwrite your user files, documents, videos, etc., so don&#39;t worry about that, but only click &lt;CONTINUE&gt; if you don&#39;t mind your settings being overwritten.\\n\\nNote also that this script will change $name&#39;s password to the one you just gave.&quot; 14 70
</a><a href="#h2-0-77" id="h2-0-77" class="i">+}
</a><a href="#h2-0-78" id="h2-0-78" class="i">+
</a><a href="#h2-0-79" id="h2-0-79" class="i">+adduserandpass() { \
</a><a href="#h2-0-80" id="h2-0-80" class="i">+  # Adds user `$name` with password $pass1.
</a><a href="#h2-0-81" id="h2-0-81" class="i">+  dialog --infobox &quot;Adding user \&quot;$name\&quot;...&quot; 4 50
</a><a href="#h2-0-82" id="h2-0-82" class="i">+  useradd -m -g wheel -s /bin/bash &quot;$name&quot; &amp;&gt;/dev/null ||
</a><a href="#h2-0-83" id="h2-0-83" class="i">+  usermod -a -G wheel &quot;$name&quot; &amp;&amp; mkdir -p /home/&quot;$name&quot; &amp;&amp; chown &quot;$name&quot;:wheel /home/&quot;$name&quot;
</a><a href="#h2-0-84" id="h2-0-84" class="i">+  echo &quot;$name:$pass1&quot; | chpasswd
</a><a href="#h2-0-85" id="h2-0-85" class="i">+  unset pass1 pass2 ;}
</a><a href="#h2-0-86" id="h2-0-86" class="i">+
</a><a href="#h2-0-87" id="h2-0-87" class="i">+refreshkeys() { \
</a><a href="#h2-0-88" id="h2-0-88" class="i">+  dialog --infobox &quot;Refreshing Arch Keyring...&quot; 4 40
</a><a href="#h2-0-89" id="h2-0-89" class="i">+  pacman --noconfirm -Sy archlinux-keyring &amp;&gt;/dev/null
</a><a href="#h2-0-90" id="h2-0-90" class="i">+}
</a><a href="#h2-0-91" id="h2-0-91" class="i">+
</a><a href="#h2-0-92" id="h2-0-92" class="i">+installyay() {
</a><a href="#h2-0-93" id="h2-0-93" class="i">+  dialog --infobox &quot;Installing yay, an AUR helper...&quot; 8 50
</a><a href="#h2-0-94" id="h2-0-94" class="i">+  pacman --noconfirm -S git &amp;&gt;/dev/null
</a><a href="#h2-0-95" id="h2-0-95" class="i">+  sudo -u $name git clone https://aur.archlinux.org/yay.git /tmp/yay &amp;&gt;/dev/null
</a><a href="#h2-0-96" id="h2-0-96" class="i">+  cd /tmp/yay
</a><a href="#h2-0-97" id="h2-0-97" class="i">+  sudo -u $name makepkg --noconfirm -si &amp;&gt;/dev/null
</a><a href="#h2-0-98" id="h2-0-98" class="i">+}
</a><a href="#h2-0-99" id="h2-0-99" class="i">+
</a><a href="#h2-0-100" id="h2-0-100" class="i">+pacmaninstall() {
</a><a href="#h2-0-101" id="h2-0-101" class="i">+  dialog --title &quot;Installation&quot; --infobox &quot;Installing \`$1\` ($n of $total).&quot; 5 70
</a><a href="#h2-0-102" id="h2-0-102" class="i">+  pacman --noconfirm --needed -S &quot;$1&quot; &amp;&gt;/dev/null
</a><a href="#h2-0-103" id="h2-0-103" class="i">+}
</a><a href="#h2-0-104" id="h2-0-104" class="i">+
</a><a href="#h2-0-105" id="h2-0-105" class="i">+aurinstall() {
</a><a href="#h2-0-106" id="h2-0-106" class="i">+  dialog --title &quot;Installation&quot; --infobox &quot;Installing \`$1\` ($n of $total) from the AUR.&quot; 5 70
</a><a href="#h2-0-107" id="h2-0-107" class="i">+  sudo -u $name yay --noconfirm -S &quot;$1&quot; &amp;&gt;/dev/null
</a><a href="#h2-0-108" id="h2-0-108" class="i">+}
</a><a href="#h2-0-109" id="h2-0-109" class="i">+
</a><a href="#h2-0-110" id="h2-0-110" class="i">+choosebar() {
</a><a href="#h2-0-111" id="h2-0-111" class="i">+  bar=$(dialog --title &quot;Select bar&quot; --radiolist &quot;Do you want i3bar or polybar?&quot; 10 80 17 1 i3bar on 2 polybar off 3&gt;&amp;2 2&gt;&amp;1 1&gt;&amp;3)
</a><a href="#h2-0-112" id="h2-0-112" class="i">+  while [ &quot;$?&quot; = &quot;1&quot; ];
</a><a href="#h2-0-113" id="h2-0-113" class="i">+  do
</a><a href="#h2-0-114" id="h2-0-114" class="i">+    bar=$(dialog --title &quot;Select bar&quot; --radiolist &quot;You must choose one!&quot; 10 80 17 1 i3bar on 2 polybar off 3&gt;&amp;2 2&gt;&amp;1 1&gt;&amp;3)
</a><a href="#h2-0-115" id="h2-0-115" class="i">+  done
</a><a href="#h2-0-116" id="h2-0-116" class="i">+  case $bar in
</a><a href="#h2-0-117" id="h2-0-117" class="i">+      1 ) sed -i &#39;/A,polybar/d&#39; $1
</a><a href="#h2-0-118" id="h2-0-118" class="i">+          break;;
</a><a href="#h2-0-119" id="h2-0-119" class="i">+      2 ) sed -i &#39;/,i3blocks/d&#39; $1
</a><a href="#h2-0-120" id="h2-0-120" class="i">+          sed -i &#39;/,i3status/d&#39; $1
</a><a href="#h2-0-121" id="h2-0-121" class="i">+          break;;
</a><a href="#h2-0-122" id="h2-0-122" class="i">+  esac
</a><a href="#h2-0-123" id="h2-0-123" class="i">+}
</a><a href="#h2-0-124" id="h2-0-124" class="i">+
</a><a href="#h2-0-125" id="h2-0-125" class="i">+chooselauncher() {
</a><a href="#h2-0-126" id="h2-0-126" class="i">+  launcher=$(dialog --title &quot;Select program launcher&quot; --radiolist &quot;Do you want dmenu or rofi?&quot; 10 80 17 1 dmenu on 2 rofi off 3&gt;&amp;2 2&gt;&amp;1 1&gt;&amp;3)
</a><a href="#h2-0-127" id="h2-0-127" class="i">+  while [ &quot;$?&quot; = &quot;1&quot; ];
</a><a href="#h2-0-128" id="h2-0-128" class="i">+  do
</a><a href="#h2-0-129" id="h2-0-129" class="i">+    launcher=$(dialog --title &quot;Select program launcher&quot; --radiolist &quot;You must choose one!&quot; 10 80 17 1 dmenu on 2 rofi off 3&gt;&amp;2 2&gt;&amp;1 1&gt;&amp;3)
</a><a href="#h2-0-130" id="h2-0-130" class="i">+  done
</a><a href="#h2-0-131" id="h2-0-131" class="i">+  case $launcher in
</a><a href="#h2-0-132" id="h2-0-132" class="i">+    1 ) sed -i &#39;/,rofi/d&#39; $1
</a><a href="#h2-0-133" id="h2-0-133" class="i">+        break;;
</a><a href="#h2-0-134" id="h2-0-134" class="i">+    2 ) sed -i &#39;/,dmenu/d&#39; $1
</a><a href="#h2-0-135" id="h2-0-135" class="i">+        break;;
</a><a href="#h2-0-136" id="h2-0-136" class="i">+  esac
</a><a href="#h2-0-137" id="h2-0-137" class="i">+}
</a><a href="#h2-0-138" id="h2-0-138" class="i">+
</a><a href="#h2-0-139" id="h2-0-139" class="i">+editpackages() {
</a><a href="#h2-0-140" id="h2-0-140" class="i">+  dialog --yesno &quot;Do you want to edit the packages file?&quot; 10 80 3&gt;&amp;2 2&gt;&amp;1 1&gt;&amp;3
</a><a href="#h2-0-141" id="h2-0-141" class="i">+  case $? in
</a><a href="#h2-0-142" id="h2-0-142" class="i">+    0 ) vim $1
</a><a href="#h2-0-143" id="h2-0-143" class="i">+        break;;
</a><a href="#h2-0-144" id="h2-0-144" class="i">+    1 ) break;;
</a><a href="#h2-0-145" id="h2-0-145" class="i">+  esac
</a><a href="#h2-0-146" id="h2-0-146" class="i">+}
</a><a href="#h2-0-147" id="h2-0-147" class="i">+
</a><a href="#h2-0-148" id="h2-0-148" class="i">+installloop() {
</a><a href="#h2-0-149" id="h2-0-149" class="i">+  curl https://raw.githubusercontent.com/thehnm/dotfiles-i3/master/arch_bootstrap/packages.csv &gt;&gt; /tmp/packages.csv
</a><a href="#h2-0-150" id="h2-0-150" class="i">+  choosebar &quot;/tmp/packages.csv&quot;
</a><a href="#h2-0-151" id="h2-0-151" class="i">+  chooselauncher &quot;/tmp/packages.csv&quot;
</a><a href="#h2-0-152" id="h2-0-152" class="i">+  editpackages &quot;/tmp/packages.csv&quot;
</a><a href="#h2-0-153" id="h2-0-153" class="i">+  total=$(wc -l &lt; /tmp/packages.csv)
</a><a href="#h2-0-154" id="h2-0-154" class="i">+  aurinstalled=$(pacman -Qm | awk &#39;{print $1}&#39;)
</a><a href="#h2-0-155" id="h2-0-155" class="i">+  while IFS=, read -r tag program; do
</a><a href="#h2-0-156" id="h2-0-156" class="i">+   n=$((n+1))
</a><a href="#h2-0-157" id="h2-0-157" class="i">+   case &quot;$tag&quot; in
</a><a href="#h2-0-158" id="h2-0-158" class="i">+    &quot;&quot;) pacmaninstall &quot;$program&quot; ;;
</a><a href="#h2-0-159" id="h2-0-159" class="i">+    &quot;A&quot;) aurinstall &quot;$program&quot; ;;
</a><a href="#h2-0-160" id="h2-0-160" class="i">+   esac
</a><a href="#h2-0-161" id="h2-0-161" class="i">+  done &lt; /tmp/packages.csv ;
</a><a href="#h2-0-162" id="h2-0-162" class="i">+}
</a><a href="#h2-0-163" id="h2-0-163" class="i">+
</a><a href="#h2-0-164" id="h2-0-164" class="i">+putgitrepo() { # Downlods a gitrepo $1 and places the files in $2 only overwriting conflicts
</a><a href="#h2-0-165" id="h2-0-165" class="i">+  dialog --infobox &quot;Downloading and installing config files...&quot; 4 60
</a><a href="#h2-0-166" id="h2-0-166" class="i">+  dir=$(mktemp -d)
</a><a href="#h2-0-167" id="h2-0-167" class="i">+  chown -R &quot;$name&quot;:wheel &quot;$dir&quot;
</a><a href="#h2-0-168" id="h2-0-168" class="i">+  sudo -u &quot;$name&quot; git clone &quot;$1&quot; &quot;$dir&quot;/&quot;$3&quot; &amp;&gt;/dev/null &amp;&amp;
</a><a href="#h2-0-169" id="h2-0-169" class="i">+  sudo -u &quot;$name&quot; mkdir -p &quot;$2&quot; &amp;&amp;
</a><a href="#h2-0-170" id="h2-0-170" class="i">+  sudo -u &quot;$name&quot; cp -rT &quot;$dir&quot;/&quot;$3&quot; &quot;$2&quot;/&quot;$3&quot;
</a><a href="#h2-0-171" id="h2-0-171" class="i">+}
</a><a href="#h2-0-172" id="h2-0-172" class="i">+
</a><a href="#h2-0-173" id="h2-0-173" class="i">+installdotfiles() {
</a><a href="#h2-0-174" id="h2-0-174" class="i">+  dialog --infobox &quot;Installing my dotfiles...&quot; 4 60
</a><a href="#h2-0-175" id="h2-0-175" class="i">+  cd &quot;$1&quot;
</a><a href="#h2-0-176" id="h2-0-176" class="i">+
</a><a href="#h2-0-177" id="h2-0-177" class="i">+  case $bar in
</a><a href="#h2-0-178" id="h2-0-178" class="i">+      1 ) sed -i &#39;/polybar/d&#39; $1/config.stow/.config/i3/config
</a><a href="#h2-0-179" id="h2-0-179" class="i">+          sed -i &#39;s/^#1//g&#39; $1/config.stow/.config/i3/config
</a><a href="#h2-0-180" id="h2-0-180" class="i">+          break;;
</a><a href="#h2-0-181" id="h2-0-181" class="i">+      2 ) break;;
</a><a href="#h2-0-182" id="h2-0-182" class="i">+  esac
</a><a href="#h2-0-183" id="h2-0-183" class="i">+
</a><a href="#h2-0-184" id="h2-0-184" class="i">+  case $launcher in
</a><a href="#h2-0-185" id="h2-0-185" class="i">+    1 ) sed -i &#39;/rofi/d&#39; $1/config.stow/.config/i3/config
</a><a href="#h2-0-186" id="h2-0-186" class="i">+        sed -i &#39;s/^#2//g&#39; $1/config.stow/.config/i3/config
</a><a href="#h2-0-187" id="h2-0-187" class="i">+        break;;
</a><a href="#h2-0-188" id="h2-0-188" class="i">+    2 ) break;;
</a><a href="#h2-0-189" id="h2-0-189" class="i">+  esac
</a><a href="#h2-0-190" id="h2-0-190" class="i">+
</a><a href="#h2-0-191" id="h2-0-191" class="i">+  bash &quot;$2&quot;
</a><a href="#h2-0-192" id="h2-0-192" class="i">+}
</a><a href="#h2-0-193" id="h2-0-193" class="i">+
</a><a href="#h2-0-194" id="h2-0-194" class="i">+serviceinit() {
</a><a href="#h2-0-195" id="h2-0-195" class="i">+  for service in &quot;$@&quot;; do
</a><a href="#h2-0-196" id="h2-0-196" class="i">+    dialog --infobox &quot;Enabling \&quot;$service\&quot;...&quot; 4 40
</a><a href="#h2-0-197" id="h2-0-197" class="i">+    systemctl enable &quot;$service&quot;
</a><a href="#h2-0-198" id="h2-0-198" class="i">+    systemctl start &quot;$service&quot;
</a><a href="#h2-0-199" id="h2-0-199" class="i">+  done ;}
</a><a href="#h2-0-200" id="h2-0-200" class="i">+
</a><a href="#h2-0-201" id="h2-0-201" class="i">+setxinitrc() {
</a><a href="#h2-0-202" id="h2-0-202" class="i">+  dialog --infobox &quot;Setting xinitrc...&quot; 4 40
</a><a href="#h2-0-203" id="h2-0-203" class="i">+  echo exec i3 &gt;&gt; $HOME/.xinitrc
</a><a href="#h2-0-204" id="h2-0-204" class="i">+}
</a><a href="#h2-0-205" id="h2-0-205" class="i">+
</a><a href="#h2-0-206" id="h2-0-206" class="i">+newperms() { # Set special sudoers settings for install (or after).
</a><a href="#h2-0-207" id="h2-0-207" class="i">+  dialog --infobox &quot;Getting rid of that retarded error beep sound...&quot; 10 50
</a><a href="#h2-0-208" id="h2-0-208" class="i">+  sed -i &quot;/#SCRIPT/d&quot; /etc/sudoers
</a><a href="#h2-0-209" id="h2-0-209" class="i">+  echo -e &quot;$@ #SCRIPT&quot; &gt;&gt; /etc/sudoers ;}
</a><a href="#h2-0-210" id="h2-0-210" class="i">+
</a><a href="#h2-0-211" id="h2-0-211" class="i">+systembeepoff() {
</a><a href="#h2-0-212" id="h2-0-212" class="i">+  dialog --infobox &quot;Getting rid of that retarded error beep sound...&quot; 10 50
</a><a href="#h2-0-213" id="h2-0-213" class="i">+  rmmod pcspkr
</a><a href="#h2-0-214" id="h2-0-214" class="i">+  echo &quot;blacklist pcspkr&quot; &gt; /etc/modprobe.d/nobeep.conf ;}
</a><a href="#h2-0-215" id="h2-0-215" class="i">+
</a><a href="#h2-0-216" id="h2-0-216" class="i">+resetpulse() {
</a><a href="#h2-0-217" id="h2-0-217" class="i">+  dialog --infobox &quot;Reseting Pulseaudio...&quot; 4 50
</a><a href="#h2-0-218" id="h2-0-218" class="i">+  killall pulseaudio
</a><a href="#h2-0-219" id="h2-0-219" class="i">+  sudo -n &quot;$name&quot; pulseaudio --start ;}
</a><a href="#h2-0-220" id="h2-0-220" class="i">+
</a><a href="#h2-0-221" id="h2-0-221" class="i">+setuphost() {
</a><a href="#h2-0-222" id="h2-0-222" class="i">+  host=$(dialog --inputbox &quot;Enter the name for your host&quot; 10 60 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;1) || exit
</a><a href="#h2-0-223" id="h2-0-223" class="i">+  namere=&quot;^[a-z_][a-z0-9_-]*$&quot;
</a><a href="#h2-0-224" id="h2-0-224" class="i">+  while ! [[ &quot;${host}&quot; =~ ${namere} ]]; do
</a><a href="#h2-0-225" id="h2-0-225" class="i">+  	name=$(dialog --no-cancel --inputbox &quot;Hostname not valid. Give a hostname beginning with a letter, with only lowercase letters, - or _.&quot; 10 60 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;1)
</a><a href="#h2-0-226" id="h2-0-226" class="i">+  done
</a><a href="#h2-0-227" id="h2-0-227" class="i">+
</a><a href="#h2-0-228" id="h2-0-228" class="i">+  dialog --infobox &quot;Setting hostname...&quot; 4 50
</a><a href="#h2-0-229" id="h2-0-229" class="i">+  echo $host&gt;&gt; /etc/hostname
</a><a href="#h2-0-230" id="h2-0-230" class="i">+  echo 127.0.0.1        localhost &gt;&gt; /etc/hosts
</a><a href="#h2-0-231" id="h2-0-231" class="i">+  echo ::1	localhost &gt;&gt; /etc/hosts
</a><a href="#h2-0-232" id="h2-0-232" class="i">+  echo 127.0.1.1	$host.localdomain   $host &gt;&gt; /etc/hosts
</a><a href="#h2-0-233" id="h2-0-233" class="i">+}
</a><a href="#h2-0-234" id="h2-0-234" class="i">+
</a><a href="#h2-0-235" id="h2-0-235" class="i">+installgrub() {
</a><a href="#h2-0-236" id="h2-0-236" class="i">+  choice=$(dialog --yesno &quot;Do you install this on a UEFI machine?&quot; 10 80 3&gt;&amp;2 2&gt;&amp;1 1&gt;&amp;3)
</a><a href="#h2-0-237" id="h2-0-237" class="i">+  case $? in
</a><a href="#h2-0-238" id="h2-0-238" class="i">+      0 ) dialog --infobox &quot;Installing grub for UEFI...&quot; 4 50
</a><a href="#h2-0-239" id="h2-0-239" class="i">+          pacman --noconfirm -S grub efibootmgr &amp;&gt;/dev/null
</a><a href="#h2-0-240" id="h2-0-240" class="i">+          grub-install --target=x86_64-pc --bootloader-id=GRUB --efi-directory=/boot/efi/ &amp;&gt;/dev/null
</a><a href="#h2-0-241" id="h2-0-241" class="i">+          grub-mkconfig -o /boot/grub/grub.cfg &amp;&gt;/dev/null
</a><a href="#h2-0-242" id="h2-0-242" class="i">+          break;;
</a><a href="#h2-0-243" id="h2-0-243" class="i">+      1 ) label=$(dialog --inputbox &quot;Enter the disk where your install Arch Linux e.g. /dev/sda&quot; 10 60 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3 3&gt;&amp;1) || exit
</a><a href="#h2-0-244" id="h2-0-244" class="i">+          dialog --infobox &quot;Installing grub...&quot; 4 50
</a><a href="#h2-0-245" id="h2-0-245" class="i">+          pacman --noconfirm -S grub &amp;&gt;/dev/null
</a><a href="#h2-0-246" id="h2-0-246" class="i">+          grub-install --target=i386-pc $label &amp;&gt;/dev/null
</a><a href="#h2-0-247" id="h2-0-247" class="i">+          grub-mkconfig -o /boot/grub/grub.cfg &amp;&gt;/dev/null
</a><a href="#h2-0-248" id="h2-0-248" class="i">+          break;;
</a><a href="#h2-0-249" id="h2-0-249" class="i">+  esac
</a><a href="#h2-0-250" id="h2-0-250" class="i">+}
</a><a href="#h2-0-251" id="h2-0-251" class="i">+
</a><a href="#h2-0-252" id="h2-0-252" class="i">+finish() {
</a><a href="#h2-0-253" id="h2-0-253" class="i">+  dialog --title &quot;Welcome&quot; --msgbox &quot;The installation is done! You can reboot your system now.&quot; 10 80
</a><a href="#h2-0-254" id="h2-0-254" class="i">+}
</a><a href="#h2-0-255" id="h2-0-255" class="i">+
</a><a href="#h2-0-256" id="h2-0-256" class="i">+##########################################################################################################################
</a><a href="#h2-0-257" id="h2-0-257" class="i">+
</a><a href="#h2-0-258" id="h2-0-258" class="i">+mv install.sh /tmp/install.sh
</a><a href="#h2-0-259" id="h2-0-259" class="i">+
</a><a href="#h2-0-260" id="h2-0-260" class="i">+# Check if user is root on Arch distro. Install dialog.
</a><a href="#h2-0-261" id="h2-0-261" class="i">+initialcheck
</a><a href="#h2-0-262" id="h2-0-262" class="i">+
</a><a href="#h2-0-263" id="h2-0-263" class="i">+# Welcome user.
</a><a href="#h2-0-264" id="h2-0-264" class="i">+welcomemsg
</a><a href="#h2-0-265" id="h2-0-265" class="i">+
</a><a href="#h2-0-266" id="h2-0-266" class="i">+setlocale &quot;en_US.UTF-8&quot; &quot;de_DE.UTF-8&quot; &quot;de-latin1&quot;
</a><a href="#h2-0-267" id="h2-0-267" class="i">+
</a><a href="#h2-0-268" id="h2-0-268" class="i">+settimezone
</a><a href="#h2-0-269" id="h2-0-269" class="i">+
</a><a href="#h2-0-270" id="h2-0-270" class="i">+# Get and verify username and password.
</a><a href="#h2-0-271" id="h2-0-271" class="i">+getuserandpass
</a><a href="#h2-0-272" id="h2-0-272" class="i">+
</a><a href="#h2-0-273" id="h2-0-273" class="i">+# Give warning if user already exists.
</a><a href="#h2-0-274" id="h2-0-274" class="i">+usercheck || { clear; exit; }
</a><a href="#h2-0-275" id="h2-0-275" class="i">+
</a><a href="#h2-0-276" id="h2-0-276" class="i">+setuphost
</a><a href="#h2-0-277" id="h2-0-277" class="i">+
</a><a href="#h2-0-278" id="h2-0-278" class="i">+# Last chance for user to back out before install.
</a><a href="#h2-0-279" id="h2-0-279" class="i">+preinstallmsg || { clear; exit; }
</a><a href="#h2-0-280" id="h2-0-280" class="i">+
</a><a href="#h2-0-281" id="h2-0-281" class="i">+adduserandpass
</a><a href="#h2-0-282" id="h2-0-282" class="i">+
</a><a href="#h2-0-283" id="h2-0-283" class="i">+refreshkeys
</a><a href="#h2-0-284" id="h2-0-284" class="i">+
</a><a href="#h2-0-285" id="h2-0-285" class="i">+newperms &quot;%wheel ALL=(ALL) NOPASSWD: ALL&quot;
</a><a href="#h2-0-286" id="h2-0-286" class="i">+
</a><a href="#h2-0-287" id="h2-0-287" class="i">+installyay
</a><a href="#h2-0-288" id="h2-0-288" class="i">+
</a><a href="#h2-0-289" id="h2-0-289" class="i">+installloop
</a><a href="#h2-0-290" id="h2-0-290" class="i">+
</a><a href="#h2-0-291" id="h2-0-291" class="i">+# Install the dotfiles in the user&#39;s home directory
</a><a href="#h2-0-292" id="h2-0-292" class="i">+putgitrepo &quot;$dotfilesrepo&quot; &quot;/home/$name&quot; &quot;dotfiles-i3&quot;
</a><a href="#h2-0-293" id="h2-0-293" class="i">+
</a><a href="#h2-0-294" id="h2-0-294" class="i">+installdotfiles &quot;/home/$name/dotfiles-i3&quot; &quot;install_dotfiles.sh&quot;
</a><a href="#h2-0-295" id="h2-0-295" class="i">+
</a><a href="#h2-0-296" id="h2-0-296" class="i">+putgitrepo &quot;$vundlerepo&quot; &quot;/home/$name/.vim/bundle/&quot; &quot;Vundle.vim&quot;
</a><a href="#h2-0-297" id="h2-0-297" class="i">+
</a><a href="#h2-0-298" id="h2-0-298" class="i">+# Pulseaudio, if/when initially installed, often needs a restart to work immediately.
</a><a href="#h2-0-299" id="h2-0-299" class="i">+[[ -f /usr/bin/pulseaudio ]] &amp;&amp; resetpulse
</a><a href="#h2-0-300" id="h2-0-300" class="i">+
</a><a href="#h2-0-301" id="h2-0-301" class="i">+serviceinit NetworkManager lightdm
</a><a href="#h2-0-302" id="h2-0-302" class="i">+
</a><a href="#h2-0-303" id="h2-0-303" class="i">+systembeepoff
</a><a href="#h2-0-304" id="h2-0-304" class="i">+
</a><a href="#h2-0-305" id="h2-0-305" class="i">+newperms &quot;%wheel ALL=(ALL) ALL\\n%wheel ALL=(ALL) NOPASSWD: /usr/bin/shutdown,/usr/bin/reboot,/usr/bin/systemctl suspend,/usr/bin/wifi-menu,/usr/bin/mount,/usr/bin/umount,/usr/bin/pacman -Syu,/usr/bin/pacman -Syyu,/usr/bin/packer -Syu,/usr/bin/packer -Syyu,/usr/bin/systemctl restart NetworkManager,/usr/bin/rc-service NetworkManager restart,/usr/bin/pacman -Syyu --noconfirm,/usr/bin/loadkeys,/usr/bin/yay&quot;
</a><a href="#h2-0-306" id="h2-0-306" class="i">+
</a><a href="#h2-0-307" id="h2-0-307" class="i">+sed -i &quot;s/^#Color/Color/g&quot; /etc/pacman.conf
</a><a href="#h2-0-308" id="h2-0-308" class="i">+
</a><a href="#h2-0-309" id="h2-0-309" class="i">+# Fix audio problem
</a><a href="#h2-0-310" id="h2-0-310" class="i">+sed -i &#39;s/^ autospawn/; autospawn/g&#39; /etc/pulse/client.conf
</a><a href="#h2-0-311" id="h2-0-311" class="i">+
</a><a href="#h2-0-312" id="h2-0-312" class="i">+installgrub
</a><a href="#h2-0-313" id="h2-0-313" class="i">+
</a><a href="#h2-0-314" id="h2-0-314" class="i">+finish &amp;&amp; clear
</a><b>diff --git a/<a id="h3" href="../file/arch_bootstrap/packages.csv.html">arch_bootstrap/packages.csv</a> b/<a href="../file/arch_bootstrap/packages.csv.html">arch_bootstrap/packages.csv</a></b>
<a href="#h3-0" id="h3-0" class="h">@@ -1,4 +1,3 @@
</a><a href="#h3-0-0" id="h3-0-0" class="d">-TAG,PACKAGE
</a> ,i3-gaps
 ,i3blocks
 ,i3status
<a href="#h3-1" id="h3-1" class="h">@@ -15,6 +14,7 @@ TAG,PACKAGE
</a> ,xorg-xinit
 ,dunst
 ,gnome-keyring
<a href="#h3-1-3" id="h3-1-3" class="i">+,libsecret
</a> ,compton
 ,stow
 ,openvpn
<a href="#h3-2" id="h3-2" class="h">@@ -22,7 +22,6 @@ TAG,PACKAGE
</a> ,ttf-dejavu
 ,ctags
 ,nitrogen
<a href="#h3-2-3" id="h3-2-3" class="d">-,libsecret
</a> ,udiskie
 ,alsa-utils
 ,openssh
<a href="#h3-3" id="h3-3" class="h">@@ -31,7 +30,6 @@ TAG,PACKAGE
</a> ,lxappearance
 ,mupdf
 ,libmpdclient
<a href="#h3-3-3" id="h3-3-3" class="d">-,dialog
</a> ,lightdm-webkit2-greeter
 ,zsh-autosuggestions
 ,zsh-completions
<b>diff --git a/<a id="h4" href="../file/config.stow/.config/dunst/dunstrc.html">config.stow/.config/dunst/dunstrc</a> b/<a href="../file/config.stow/.config/dunst/dunstrc.html">config.stow/.config/dunst/dunstrc</a></b>
<a href="#h4-0" id="h4-0" class="h">@@ -85,7 +85,7 @@
</a> 
     ### Text ###
     font = RobotoMono Nerd Font 11
<a href="#h4-0-3" id="h4-0-3" class="d">-    font = IPAPGothic 11
</a><a href="#h4-0-4" id="h4-0-4" class="i">+    font = Source Han Sans JP 11
</a> 
     # The spacing between lines.  If the height is smaller than the
     # font height, it will get raised to the font height.
<b>diff --git a/<a id="h5" href="../file/config.stow/.config/i3/config.html">config.stow/.config/i3/config</a> b/<a href="../file/config.stow/.config/i3/config.html">config.stow/.config/i3/config</a></b>
<a href="#h5-0" id="h5-0" class="h">@@ -24,7 +24,7 @@ bindsym $mod+Return exec i3-sensible-terminal
</a> bindsym $mod+Shift+q kill
 
 # Start dmenu
<a href="#h5-0-3" id="h5-0-3" class="d">-#1bindsym $mod+d exec --no-startup-id dmenu_run
</a><a href="#h5-0-4" id="h5-0-4" class="i">+#2bindsym $mod+d exec --no-startup-id dmenu_run
</a> 
 # Start rofi
 bindsym $mod+d exec rofi -show drun
<b>diff --git a/<a id="h6" href="../file/config.stow/.vimrc.html">config.stow/.vimrc</a> b/<a href="../file/config.stow/.vimrc.html">config.stow/.vimrc</a></b>
<a href="#h6-0" id="h6-0" class="h">@@ -108,10 +108,15 @@ map &lt;leader&gt;q : bp&lt;CR&gt;
</a> map &lt;leader&gt;w : bn&lt;CR&gt;
 
 &quot; Switch windows quicker
<a href="#h6-0-3" id="h6-0-3" class="d">-map &lt;silent&gt; &lt;C-h&gt; :wincmd h&lt;CR&gt;
</a><a href="#h6-0-4" id="h6-0-4" class="d">-map &lt;silent&gt; &lt;C-j&gt; :wincmd j&lt;CR&gt;
</a><a href="#h6-0-5" id="h6-0-5" class="d">-map &lt;silent&gt; &lt;C-k&gt; :wincmd k&lt;CR&gt;
</a><a href="#h6-0-6" id="h6-0-6" class="d">-map &lt;silent&gt; &lt;C-l&gt; :wincmd l&lt;CR&gt;
</a><a href="#h6-0-7" id="h6-0-7" class="i">+&quot;map &lt;silent&gt; &lt;C-h&gt; :wincmd h&lt;CR&gt;
</a><a href="#h6-0-8" id="h6-0-8" class="i">+&quot;map &lt;silent&gt; &lt;C-j&gt; :wincmd j&lt;CR&gt;
</a><a href="#h6-0-9" id="h6-0-9" class="i">+&quot;map &lt;silent&gt; &lt;C-k&gt; :wincmd k&lt;CR&gt;
</a><a href="#h6-0-10" id="h6-0-10" class="i">+&quot;map &lt;silent&gt; &lt;C-l&gt; :wincmd l&lt;CR&gt;
</a><a href="#h6-0-11" id="h6-0-11" class="i">+
</a><a href="#h6-0-12" id="h6-0-12" class="i">+noremap ö l
</a><a href="#h6-0-13" id="h6-0-13" class="i">+noremap l k
</a><a href="#h6-0-14" id="h6-0-14" class="i">+noremap k j
</a><a href="#h6-0-15" id="h6-0-15" class="i">+noremap j h
</a> 
 &quot; Toggle between .h and .cpp with F4
 function! ToggleBetweenHeaderAndSourceFile()
</pre>
</div>
</body>
</html>
